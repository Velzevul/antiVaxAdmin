webpackJsonp([0,2],{0:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n(1);var r=n(299),i=a(r),l=n(327),o=a(l),u=n(459),c=a(u);n(752);var s=n(753),d=a(s),f=n(460),_=n(594),m=n(769),p=a(m),E=n(780),h=a(E),v=n(783),y=a(v),b=n(787),g=a(b),I=n(789),S=a(I),C=n(790),T=a(C),O=n(791),w=a(O),R=n(793),U=a(R),M=(0,d["default"])();o["default"].render(i["default"].createElement(f.Provider,{store:M},i["default"].createElement(_.Router,{history:_.hashHistory},i["default"].createElement(_.Route,{path:"/",component:c["default"]},i["default"].createElement(_.IndexRedirect,{to:"questions"}),i["default"].createElement(_.Route,{path:"questions",component:w["default"]}),i["default"].createElement(_.Route,{path:"schedule",component:U["default"]}),i["default"].createElement(_.Route,{path:"users",component:g["default"]},i["default"].createElement(_.Route,{path:"new",component:S["default"]}),i["default"].createElement(_.Route,{path:":itemId",component:T["default"]})),i["default"].createElement(_.Route,{path:":sectionId",component:p["default"]},i["default"].createElement(_.Route,{path:"new",component:h["default"]}),i["default"].createElement(_.Route,{path:":itemId",component:y["default"]}))))),document.getElementById("app"))},459:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(299),s=a(c),d=n(460),f=n(482),_=a(f),m=n(588),p=a(m),E=n(589),h=a(E),v=n(742),y=a(v),b=n(744),g=a(b),I=n(746),S=a(I),C=n(590),T=n(666),O=n(750),w=n(747),R=n(749),U=n(751),M=function(e){function t(){return i(this,t),l(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),u(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("antiVax_auth_token");e&&this.props.attemptToken(e)}},{key:"componentWillReceiveProps",value:function(e){var t=e.fetchIndex,n=e.user;n&&!this.props.user&&t()}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.searchIndex,a=e.children,i=e.logOut,l=e.updateIndex,o=e.attemptingLogin;if(o)return s["default"].createElement(g["default"],null);if(t){var u=[{id:"questions",label:"Questions"},O.blogposts,O.faqs,{id:"users",label:"Users"},{id:"sections",label:"Website Sections",heading:!0}].concat(r(O.sections),[{id:"attachments",label:"Attachments",heading:!0}],r(O.attachments)),c="";return c=n.isFetching?s["default"].createElement("div",{className:p["default"].App__info},"Fetching..."):n.isUpdating?s["default"].createElement("div",{className:p["default"].App__info},"Updating..."):s["default"].createElement("div",{className:p["default"].App__info},"last updated on ",s["default"].createElement(_["default"],{value:n.lastUpdatedOn,format:"MMMM Do YYYY (h:mm a)"})," by ",n.lastUpdatedBy),s["default"].createElement("div",{className:p["default"].App},s["default"].createElement("div",{className:p["default"].App__sidebar},s["default"].createElement("div",{className:p["default"].App__header},s["default"].createElement("h1",{className:p["default"].App__title},"Antivax admin")),s["default"].createElement(y["default"],{items:u}),s["default"].createElement("div",{className:p["default"].App__options},s["default"].createElement(T.Block,{n:.5},c),s["default"].createElement(T.Block,{n:.5},s["default"].createElement(C.Button,{inverse:!0,fullWidth:!0,disabled:n.isUpdating||n.isFetching,theme:"accent1",onClick:l},"Update search index")),s["default"].createElement(T.Block,{n:.5},s["default"].createElement("div",{className:p["default"].App__info},"Logged in as ",t.name)),s["default"].createElement(C.Button,{fullWidth:!0,theme:"accent1",onClick:i},"Log out"))),a,s["default"].createElement(h["default"],null))}return s["default"].createElement("div",{className:p["default"].App},s["default"].createElement(S["default"],null),s["default"].createElement(h["default"],null))}}]),t}(s["default"].Component);t["default"]=(0,d.connect)(function(e){return{attemptingLogin:e.auth.isFetching,user:e.auth.user,searchIndex:{isFetching:e.searchIndex.isFetching,isUpdating:e.searchIndex.isUpdating,lastUpdatedOn:e.searchIndex.lastUpdatedOn,lastUpdatedBy:e.searchIndex.lastUpdatedBy}}},function(e){return{attemptToken:function(t){e((0,w.loginWithToken)(t))},logOut:function(){e((0,w.logOut)()),e((0,R.flashMessage)("You have been successfully logged out","log"))},updateIndex:function(){e((0,U.updateSearchIndex)())},fetchIndex:function(){e((0,U.fetchSearchIndex)())}}})(M)},588:function(e,t){e.exports={App:"App__App___lBEXI",App__header:"App__App__header___115hU",App__title:"App__App__title___1I0Bh",App__info:"App__App__info___2SITY",App__options:"App__App__options___3jQzL",App__sidebar:"App__App__sidebar___VThbe"}},589:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),l=n(460),o=n(590),u=function(e){var t=e.message,n=e.type;return i["default"].createElement(o.Alert,{message:t,theme:n})};t["default"]=(0,l.connect)(function(e){return{message:e.flash.message,type:e.flash.type}})(u)},590:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Select=t.Editor=t.Checkbox=t.Input=t.ModalWindowFooter=t.ModalWindowBody=t.ModalWindowHeader=t.ModalWindow=t.Alert=t.LinkButton=t.Button=t.Spinner=void 0;var r=n(591),i=a(r),l=n(593),o=a(l),u=n(655),c=a(u),s=n(657),d=a(s),f=n(678),_=a(f),m=n(680),p=a(m),E=n(682),h=a(E),v=n(738),y=a(v),b=n(740);t.Spinner=i["default"],t.Button=o["default"],t.LinkButton=c["default"],t.Alert=d["default"],t.ModalWindow=b.ModalWindow,t.ModalWindowHeader=b.ModalWindowHeader,t.ModalWindowBody=b.ModalWindowBody,t.ModalWindowFooter=b.ModalWindowFooter,t.Input=_["default"],t.Checkbox=p["default"],t.Editor=h["default"],t.Select=y["default"]},591:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),l=n(592),o=a(l),u=.75,c=function(e){var t=e.multipliers,n=void 0===t?{minHeight:30,__inner:{width:5,height:5}}:t,a={minHeight:u*n.minHeight+"rem"},r={width:u*n.__inner.width+"rem",height:u*n.__inner.height+"rem"};return i["default"].createElement("div",{style:a,className:o["default"].Spinner},i["default"].createElement("div",{style:r,className:o["default"].Spinner__inner},i["default"].createElement("div",{className:o["default"].Spinner__circle+" "+o["default"].Spinner__circle1}),i["default"].createElement("div",{className:o["default"].Spinner__circle+" "+o["default"].Spinner__circle2}),i["default"].createElement("div",{className:o["default"].Spinner__circle+" "+o["default"].Spinner__circle3}),i["default"].createElement("div",{className:o["default"].Spinner__circle+" "+o["default"].Spinner__circle4}),i["default"].createElement("div",{className:o["default"].Spinner__circle+" "+o["default"].Spinner__circle5}),i["default"].createElement("div",{className:o["default"].Spinner__circle+" "+o["default"].Spinner__circle6}),i["default"].createElement("div",{className:o["default"].Spinner__circle+" "+o["default"].Spinner__circle7}),i["default"].createElement("div",{className:o["default"].Spinner__circle+" "+o["default"].Spinner__circle8}),i["default"].createElement("div",{className:o["default"].Spinner__circle+" "+o["default"].Spinner__circle9}),i["default"].createElement("div",{className:o["default"].Spinner__circle+" "+o["default"].Spinner__circle10}),i["default"].createElement("div",{className:o["default"].Spinner__circle+" "+o["default"].Spinner__circle11}),i["default"].createElement("div",{className:o["default"].Spinner__circle+" "+o["default"].Spinner__circle12})))};t["default"]=c},592:function(e,t){e.exports={Spinner:"Spinner__Spinner___1fiyk",Spinner__inner:"Spinner__Spinner__inner___58vcT",Spinner__circle:"Spinner__Spinner__circle___2ZugO","sk-circleFadeDelay":"Spinner__sk-circleFadeDelay___1Etn8",Spinner__circle1:"Spinner__Spinner__circle1___BOD7n",Spinner__circle2:"Spinner__Spinner__circle2___2aBtr",Spinner__circle3:"Spinner__Spinner__circle3___1BaZf",Spinner__circle4:"Spinner__Spinner__circle4___3V5r7",Spinner__circle5:"Spinner__Spinner__circle5___3DJ5X",Spinner__circle6:"Spinner__Spinner__circle6___ZpU5m",Spinner__circle7:"Spinner__Spinner__circle7___XpnK5",Spinner__circle8:"Spinner__Spinner__circle8___1_RRX",Spinner__circle9:"Spinner__Spinner__circle9___fO0OG",Spinner__circle10:"Spinner__Spinner__circle10___ni35A",Spinner__circle11:"Spinner__Spinner__circle11___1hav9",Spinner__circle12:"Spinner__Spinner__circle12___2ipzT"}},593:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),l=n(594),o=n(654),u=a(o),c=.75,s=function(e){var t=e.children,n=e.onClick,a=e.fullWidth,r=void 0!==a&&a,o=e.small,s=void 0!==o&&o,d=e.disabled,f=void 0!==d&&d,_=e.to,m=void 0===_?null:_,p=e.href,E=void 0===p?null:p,h=e.inverse,v=void 0!==h&&h,y=e.theme,b=void 0===y?"accent1":y,g=e.extraClassNames,I={padding:.6*c+"rem "+1.5*c+"rem",lineHeight:1.5*c+"rem",fontSize:1.083*c+"rem"};s&&(I={padding:.3*c+"rem "+1*c+"rem",lineHeight:1.5*c+"rem",fontSize:.917*c+"rem"}),r&&(I.width="100%");var S=[];switch(S.push(v?u["default"].InverseButton:u["default"].Button),b){case"accent2":S.push(v?u["default"].InverseButton_accent2:u["default"].Button_accent2);break;case"error":S.push(v?u["default"].InverseButton_error:u["default"].Button_error);break;case"accent1":default:S.push(v?u["default"].InverseButton_accent1:u["default"].Button_accent1)}return m?i["default"].createElement(l.Link,{style:I,disabled:f,className:S.join(" ")+" "+g,to:m},t):E?i["default"].createElement("a",{style:I,disabled:f,className:S.join(" ")+" "+g,href:E},t):i["default"].createElement("button",{style:I,disabled:f,className:S.join(" ")+" "+g,onClick:n},t)};t["default"]=s},654:function(e,t){e.exports={InverseButton:"Button__InverseButton___3OQXU",InverseButton_accent1:"Button__InverseButton_accent1___aVIWO",InverseButton_accent2:"Button__InverseButton_accent2___3AOm6",InverseButton_error:"Button__InverseButton_error___3idBZ",Button:"Button__Button___QI7b2",Button_accent1:"Button__Button_accent1___1dfhw",Button_accent2:"Button__Button_accent2___Zn8z9",Button_error:"Button__Button_error___3PSUX"}},655:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),l=n(594),o=n(656),u=a(o),c=function(e){var t=e.children,n=e.onClick,a=e.small,r=void 0!==a&&a,o=e.disabled,c=void 0!==o&&o,s=e.to,d=void 0===s?null:s,f=e.href,_=void 0===f?null:f,m=e.theme,p=void 0===m?"accent1":m,E=[u["default"].Link];switch(r&&E.push(u["default"].Link_small),p){case"accent2":E.push(u["default"].Link_accent2);break;case"error":E.push(u["default"].Link_error);break;case"accent1":default:E.push(u["default"].Link_accent1)}return d?i["default"].createElement(l.Link,{disabled:c,className:E.join(" "),to:d},t):_?i["default"].createElement("a",{disabled:c,className:E.join(" "),href:_},t):i["default"].createElement("button",{disabled:c,className:E.join(" "),onClick:n},t)};t["default"]=c},656:function(e,t){e.exports={Link:"LinkButton__Link___21qPJ",Link_small:"LinkButton__Link_small___3sLRt",Link_accent1:"LinkButton__Link_accent1___U8QOb",Link_accent2:"LinkButton__Link_accent2___1WBE1",Link_error:"LinkButton__Link_error___2PDl7"}},657:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),l=n(658),o=a(l),u=n(665),c=a(u),s=n(666),d=.75,f=function(e){var t=e.message,n=e.theme,a=void 0===n?"default":n,r=e.multipliers,l=void 0===r?{padding:{vertical:1,horizontal:2}}:r,u={padding:l.padding.vertical*d+"rem "+l.padding.horizontal*d+"rem"},f=[c["default"].Alert__message];switch(a){case"error":f.push(c["default"].Alert__message_error);break;case"default":default:f.push(c["default"].Alert__message_default)}return i["default"].createElement("div",{className:c["default"].Alert},i["default"].createElement(o["default"],{transitionName:"alert",transitionEnterTimeout:200,transitionLeaveTimeout:200},t?i["default"].createElement(s.Block,null,i["default"].createElement("div",{style:u,className:f.join(" ")},t)):null))};t["default"]=f},665:function(e,t){e.exports={Alert:"Alert__Alert___37_QC",Alert__message:"Alert__Alert__message___2wCZF",Alert__message_default:"Alert__Alert__message_default___n_R9C",Alert__message_error:"Alert__Alert__message_error___2id4W","alert-enter":"Alert__alert-enter___K6JdL","alert-enter-active":"Alert__alert-enter-active___3vlCw","alert-leave":"Alert__alert-leave___2PpYT","alert-leave-active":"Alert__alert-leave-active___2ha_Q"}},666:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PageContent=t.Page=t.MediaFigure=t.MediaBody=t.Media=t.ListInlineItem=t.ListInline=t.ListItem=t.List=t.GridItem=t.Grid=t.Wrap=t.Flex=t.Block=void 0;var r=n(667),i=a(r),l=n(668),o=a(l),u=n(669),c=a(u),s=n(670),d=n(671),f=n(673),_=n(675),m=n(677);t.Block=i["default"],t.Flex=o["default"],t.Wrap=c["default"],t.Grid=s.Grid,t.GridItem=s.GridItem,t.List=d.List,t.ListItem=d.ListItem,t.ListInline=f.ListInline,t.ListInlineItem=f.ListInlineItem,t.Media=_.Media,t.MediaBody=_.MediaBody,t.MediaFigure=_.MediaFigure,t.Page=m.Page,t.PageContent=m.PageContent},667:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),l=.75,o=function(e){var t=e.n,n=void 0===t?1:t,a=e.extraClassNames,r=void 0===a?"":a,o=e.children,u={marginBottom:l*n+"rem"};return i["default"].createElement("div",{style:u,className:r},o)};t["default"]=o},668:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),l=function(e){var t=e.justifyContent,n=void 0===t?"flex-start":t,a=e.alignItems,r=void 0===a?"center":a,l=e.extraClassNames,o=void 0===l?"":l,u=e.flexDirection,c=void 0===u?"row":u,s=e.children,d={flexDirection:c,alignItems:r,justifyContent:n,display:"flex",width:"100%",height:"100%"};return i["default"].createElement("div",{style:d,className:o},s)};t["default"]=l},669:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),l=function(e){var t=e.width,n=void 0===t?"90%":t,a=e.maxWidth,r=void 0===a?"80rem":a,l=e.extraClassNames,o=void 0===l?"":l,u=e.children,c={width:n,maxWidth:r,marginLeft:"auto",marginRight:"auto"};return i["default"].createElement("div",{style:c,className:o},u)};t["default"]=l},670:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GridItem=t.Grid=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(299),l=a(i),o=.75,u=function(e){var t=e.gutter,n=void 0===t?0:t,a=e.alignItems,r=void 0===a?"stretch":a,i=e.justifyContent,u=void 0===i?"flex-start":i,c=e.extraClassNames,s=void 0===c?"":c,d=e.children,f={height:"100%",display:"flex",alignItems:r,justifyContent:u,marginLeft:"-"+o*n/2+"rem",marginRight:"-"+o*n/2+"rem"};return l["default"].createElement("div",{style:f,className:s},d)},c=function(e){var t=e.span,n=void 0===t?0:t,a=e.outOf,i=void 0===a?12:a,u=e.gutter,c=void 0===u?0:u,s=e.extraClassNames,d=void 0===s?"":s,f=e.children,_={paddingLeft:o*c/2+"rem",paddingRight:o*c/2+"rem",flex:"1"};return n&&i&&(_=r({},_,{flex:"0 0 auto",width:100*n/i+"%"})),l["default"].createElement("div",{style:_,className:d},f)};t.Grid=u,t.GridItem=c},671:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ListItem=t.List=void 0;var r=n(299),i=a(r),l=n(672),o=a(l),u=.75,c=function(e){var t=e.n,n=void 0===t?1:t,a=e.extraClassNames,r=void 0===a?"":a,l=e.children,c={marginBottom:"-"+u*n+"rem"};return i["default"].createElement("ul",{style:c,className:o["default"].list+" "+r},l)},s=function(e){var t=e.n,n=void 0===t?1:t,a=e.extraClassNames,r=void 0===a?"":a,l=e.children,c={marginBottom:u*n+"rem"};return i["default"].createElement("li",{style:c,className:o["default"].list__item+" "+r},l)};t.List=c,t.ListItem=s},672:function(e,t){e.exports={list:"List__list___2kBUd",list__item:"List__list__item___1D2VF"}},673:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ListInlineItem=t.ListInline=void 0;var r=n(299),i=a(r),l=n(674),o=a(l),u=.75,c=function(e){var t=e.n,n=void 0===t?1:t,a=e.extraClassNames,r=void 0===a?"":a,l=e.children,c=e.alignItems,s=void 0===c?"center":c,d=e.justfyContent,f=void 0===d?"flex-start":d,_={marginBottom:"-"+u*n+"rem",marginLeft:"-"+u*n+"rem",alignItems:s,justfyContent:f};return i["default"].createElement("ul",{style:_,className:o["default"].listInline+" "+r},l)},s=function(e){var t=e.n,n=void 0===t?1:t,a=e.extraClassNames,r=void 0===a?"":a,l=e.children,c={marginBottom:u*n+"rem",marginLeft:u*n+"rem"};return i["default"].createElement("li",{style:c,className:o["default"].listInline__item+" "+r},l)};t.ListInline=c,t.ListInlineItem=s},674:function(e,t){e.exports={listInline:"ListInline__listInline___3Gjhu",listInline__item:"ListInline__listInline__item___2K1kQ"}},675:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MediaFigure=t.MediaBody=t.Media=void 0;var r=n(299),i=a(r),l=n(676),o=a(l),u=.75,c=function(e){var t=e.alignItems,n=void 0===t?"flex-start":t,a=e.extraClassNames,r=void 0===a?"":a,l=e.children,u={alignItems:n};return i["default"].createElement("div",{style:u,className:o["default"].media+" "+r},l)},s=function(e){var t=e.extraClassNames,n=void 0===t?"":t,a=e.children;return i["default"].createElement("div",{className:o["default"].media__body+" "+n},a)},d=function(e){var t=e.n,n=void 0===t?1:t,a=e.nl,r=void 0===a?0:a,l=e.extraClassNames,c=void 0===l?"":l,s=e.children,d={marginRight:u*n+"rem",marginLeft:u*r+"rem"};return i["default"].createElement("div",{style:d,className:o["default"].media__figure+" "+c},s)};t.Media=c,t.MediaBody=s,t.MediaFigure=d},676:function(e,t){e.exports={media:"Media__media___3a00G",media__figure:"Media__media__figure___24ZwA",media__body:"Media__media__body___3Vd2-"}},677:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PageContent=t.Page=void 0;var r=n(299),i=a(r),l=function(e){var t=e.children,n={display:"flex",minHeight:"100vh",flexDirection:"column"};return i["default"].createElement("div",{style:n},t)},o=function(e){var t=e.children,n={flex:"1"};return i["default"].createElement("main",{style:n},t)};t.Page=l,t.PageContent=o},678:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),c=a(u),s=n(679),d=a(s),f=.75,_=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),o(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.onChange,r=t.label,i=void 0===r?null:r,l=t.labelParams,o=void 0===l?{width:8,padding:2}:l,u=t.placeholder,s=void 0===u?"":u,_=t.prefix,m=void 0===_?null:_,p=t.type,E=void 0===p?"text":p,h=t.disabled,v=void 0!==h&&h,y=t.error,b=void 0===y?null:y,g="";if(i){var I={paddingRight:o.padding*f+"rem"};o.width&&(I.width=o.width*f+"rem",I.textAlign="right"),g=c["default"].createElement("div",{style:I,className:""+d["default"].Input__label},i)}var S="";b&&(S=c["default"].createElement("div",{className:d["default"].Input__error},b));var C="";return m&&(C=c["default"].createElement("div",{className:d["default"].Input__prefix},m)),c["default"].createElement("label",{className:d["default"].Input+" "+(b?d["default"].Input_error:"")},g,C,c["default"].createElement("input",{className:d["default"].Input__input,type:E,ref:function(t){e._element=t},value:n,disabled:v,placeholder:s,onChange:function(){return a(e._element.value)}}),S)}}]),t}(c["default"].Component);t["default"]=_},679:function(e,t){e.exports={Input:"Input__Input___s67N0",Input__input:"Input__Input__input___wb1PD",Input__label:"Input__Input__label___9JDUu",Input__prefix:"Input__Input__prefix___3nvL9",Input__error:"Input__Input__error___fgkCD",Input_error:"Input__Input_error___2JYGy"}},680:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),c=a(u),s=n(681),d=a(s),f=.75,_=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),o(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.checked,a=t.onChange,r=t.label,i=void 0!==r&&r,l=t.labelParams,o=void 0===l?{width:8,padding:2}:l,u=t.disabled,s=void 0!==u&&u,_="";if(i){var m={paddingRight:o.padding*f+"rem"};o.width&&(m.width=o.width*f+"rem",m.textAlign="right"),_=c["default"].createElement("div",{style:m,className:""+d["default"].Checkbox__label},i)}return c["default"].createElement("label",{className:d["default"].Checkbox},_,c["default"].createElement("input",{className:d["default"].Checkbox__input,type:"checkbox",ref:function(t){e._element=t},checked:n,disabled:s,onChange:function(){return a(e._element.checked)}}))}}]),t}(c["default"].Component);t["default"]=_},681:function(e,t){e.exports={Checkbox:"Checkbox__Checkbox___1JYQg",Checkbox__input:"Checkbox__Checkbox__input___1nDMV",Checkbox__label:"Checkbox__Checkbox__label___3OBUd"}},682:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),c=a(u),s=n(327),d=n(683),f=a(d),_=n(729),m=a(_),p=n(730),E=a(p),h=n(731),v=a(h),y=n(736),b=a(y),g=n(666),I=n(737),S=a(I),C=.75,T=function(e){function t(e){r(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={value:n.props.value},n}return l(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this,t=(0,s.findDOMNode)(this.refs.editor),n=(0,s.findDOMNode)(this.refs.toolbar),a=new f["default"](t);a.use((0,E["default"])(1)),a.use((0,E["default"])(2)),a.use((0,v["default"])()),a.use((0,b["default"])()),a.use((0,m["default"])(n)),a.setContent(this.state.value),setTimeout(function(){a.on("content-changed",function(){e.setState({value:a.getHTML()}),e.props.onChange(a.getHTML())})}),this.scribe=a}},{key:"componentWillReceiveProps",value:function(e){e.value!==this.state.value&&(this.scribe.setContent(e.value),this.setState({value:e.value}))}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.labelParams,a=void 0===n?{width:8,padding:2}:n,r=e.label,i=void 0===r?null:r,l="";if(i){var o={paddingRight:a.padding*C+"rem"};a.width&&(o.width=a.width*C+"rem",o.textAlign="right"),l=c["default"].createElement(g.Block,null,c["default"].createElement("div",{style:o,className:""+S["default"].Editor__label},i))}return c["default"].createElement("div",{className:S["default"].Editor+" "+(t?S["default"].Editor_error:"")},l,c["default"].createElement("div",{className:S["default"].Editor__toolbar,ref:"toolbar"},c["default"].createElement(g.Flex,null,c["default"].createElement("button",{className:S["default"].Editor__command+" "+S["default"].Editor__command_h1,"data-command-name":"h1"},"Heading 1"),c["default"].createElement("button",{className:S["default"].Editor__command+" "+S["default"].Editor__command_h2,"data-command-name":"h2"},"Heading 1"),c["default"].createElement("div",{className:S["default"].Editor__separator}),c["default"].createElement("button",{className:S["default"].Editor__command+" "+S["default"].Editor__command_bold,"data-command-name":"bold"},"bold"),c["default"].createElement("button",{className:S["default"].Editor__command+" "+S["default"].Editor__command_italic,"data-command-name":"italic"},"italic"),c["default"].createElement("button",{className:S["default"].Editor__command+" "+S["default"].Editor__command_ol,"data-command-name":"insertOrderedList"},"Ol"),c["default"].createElement("button",{className:S["default"].Editor__command+" "+S["default"].Editor__command_ul,"data-command-name":"insertUnOrderedList"},"Ul"),c["default"].createElement("div",{className:S["default"].Editor__separator}),c["default"].createElement("button",{className:S["default"].Editor__command+" "+S["default"].Editor__command_link,"data-command-name":"linkPrompt"},"Link"),c["default"].createElement("button",{className:S["default"].Editor__command+" "+S["default"].Editor__command_unlink,"data-command-name":"unlink"},"Unlink"))),c["default"].createElement("div",{className:S["default"].Editor__body,ref:"editor"}),c["default"].createElement("div",{className:S["default"].Editor__error},t))}}]),t}(c["default"].Component);t["default"]=T},737:function(e,t){e.exports={Editor:"Editor__Editor___3mG0x",Editor__toolbar:"Editor__Editor__toolbar___2cbgU",Editor__command:"Editor__Editor__command___15KXk",Editor__command_h1:"Editor__Editor__command_h1___2avrE",Editor__command_h2:"Editor__Editor__command_h2___5j-Nt",Editor__command_h3:"Editor__Editor__command_h3___2tAjL",Editor__command_bold:"Editor__Editor__command_bold___3YdJ3",Editor__command_italic:"Editor__Editor__command_italic___1UZA0",Editor__command_ol:"Editor__Editor__command_ol___2RQbn",Editor__command_ul:"Editor__Editor__command_ul___cs9Vd",Editor__command_link:"Editor__Editor__command_link___1_DRv",Editor__command_unlink:"Editor__Editor__command_unlink___3Dw7t",Editor__separator:"Editor__Editor__separator___bf0pe",Editor__body:"Editor__Editor__body___3FufQ",Editor__error:"Editor__Editor__error___1nMXd",Editor__label:"Editor__Editor__label___1hd-U",Editor_error:"Editor__Editor_error___1G66C"}},738:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),c=a(u),s=n(739),d=a(s),f=.75,_=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),o(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.options,a=t.onChange,r=t.value,i=t.label,l=t.disabled,o=t.labelParams,u=void 0===o?{width:8,padding:2}:o,s=t.allowEmpty,_=void 0===s||s,m="";if(i){var p={paddingRight:u.padding*f+"rem"};u.width&&(p.width=u.width*f+"rem",p.textAlign="right"),m=c["default"].createElement("div",{style:p,className:""+d["default"].Select__label},i)}var E="";E=r?n.filter(function(e){return e.id===r})[0].label:_?"None":n[0].label;var h="";return _&&(h=c["default"].createElement("option",{value:""},"None")),c["default"].createElement("div",{className:d["default"].Select},m,c["default"].createElement("div",{className:d["default"].Select__wrap},c["default"].createElement("div",{className:d["default"].Select__fake},E),c["default"].createElement("select",{className:d["default"].Select__input,ref:function(t){e._element=t},value:r,disabled:l,onChange:function(e){return a(e.target.value)}},n.map(function(e){return c["default"].createElement("option",{key:e.id,value:e.id},e.label)}),h)))}}]),t}(c["default"].Component);t["default"]=_},739:function(e,t){e.exports={Select:"Select__Select___1rPbL",Select__label:"Select__Select__label___1GWvW",Select__wrap:"Select__Select__wrap___wvRax",Select__fake:"Select__Select__fake___3wkdd",Select__input:"Select__Select__input___r7ey7"}},740:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModalWindowFooter=t.ModalWindowHeader=t.ModalWindowBody=t.ModalWindow=void 0;var r=n(299),i=a(r),l=n(741),o=a(l),u=n(666),c=.75,s=function(e){
var t=e.children,n=e.multipliers,a=void 0===n?{width:40}:n,r={width:a.width*c+"rem"};return i["default"].createElement("div",{className:o["default"].Modal},i["default"].createElement(u.Flex,{alignItems:"center",justifyContent:"center"},i["default"].createElement("section",{style:r,className:o["default"].ModalWindow},t)))},d=function(e){var t=e.children,n=e.multipliers,a=void 0===n?{padding:{vertical:2,horizontal:2}}:n,r={padding:a.padding.vertical*c+"rem "+a.padding.horizontal*c+"rem"};return i["default"].createElement("header",{style:r,className:o["default"].ModalWindow__header},t)},f=function(e){var t=e.children,n=e.multipliers,a=void 0===n?{padding:{vertical:3,horizontal:2}}:n,r={padding:a.padding.vertical*c+"rem "+a.padding.horizontal*c+"rem"};return i["default"].createElement("main",{style:r,className:o["default"].ModalWindow__body},t)},_=function(e){var t=e.children,n=e.multipliers,a=void 0===n?{padding:{vertical:1,horizontal:2}}:n,r={padding:a.padding.vertical*c+"rem "+a.padding.horizontal*c+"rem"};return i["default"].createElement("footer",{style:r,className:o["default"].ModalWindow__footer},t)};t.ModalWindow=s,t.ModalWindowBody=f,t.ModalWindowHeader=d,t.ModalWindowFooter=_},741:function(e,t){e.exports={Modal:"ModalWindow__Modal___2klcg",ModalWindow:"ModalWindow__ModalWindow___2tVyZ",ModalWindow__header:"ModalWindow__ModalWindow__header___1QrWH",ModalWindow__body:"ModalWindow__ModalWindow__body___3QuQh",ModalWindow__footer:"ModalWindow__ModalWindow__footer___2I0TF"}},742:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),l=n(594),o=n(743),u=a(o),c=function(e){var t=e.items,n=t.map(function(e){return e.heading?i["default"].createElement("div",{key:e.id,className:u["default"].Nav__heading},e.label):i["default"].createElement(l.Link,{key:e.id,className:u["default"].Nav__item,activeClassName:u["default"].Nav__item_active,to:"/"+e.id},e.label)});return i["default"].createElement("div",{className:u["default"].Nav},n)};t["default"]=c},743:function(e,t){e.exports={Nav:"Nav__Nav___3Pyye",Nav__item:"Nav__Nav__item___5HbuE",Nav__item_active:"Nav__Nav__item_active___2q4tT",Nav__heading:"Nav__Nav__heading___19UzK"}},744:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),l=n(745),o=a(l),u=n(590),c=function(){return i["default"].createElement("div",{className:o["default"].Loading},i["default"].createElement(u.Spinner,null))};t["default"]=c},745:function(e,t){e.exports={Loading:"Loading__Loading___3pycz"}},746:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),c=a(u),s=n(460),d=n(666),f=n(590),_=n(747),m=function(e){function t(e){r(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.submitForm=n.submitForm.bind(n),n.changeEmail=n.changeEmail.bind(n),n.changePassword=n.changePassword.bind(n),n.state={emailError:"",passwordError:"",email:"",password:""},n}return l(t,e),o(t,[{key:"submitForm",value:function(e){e.preventDefault();var t="",n="",a=this.props.dispatch;""===this.state.email&&(t="email cannot be empty"),""===this.state.password&&(n="password cannot be blank"),t||n?this.setState({emailError:t,passwordError:n}):a((0,_.loginWithCredentials)(this.state.email,this.state.password))}},{key:"changeEmail",value:function(e){this.setState({email:e,emailError:""})}},{key:"changePassword",value:function(e){this.setState({password:e,passwordError:""})}},{key:"render",value:function(){var e=this.props.isFetching;return c["default"].createElement(f.ModalWindow,null,c["default"].createElement("form",{onSubmit:this.submitForm},c["default"].createElement(f.ModalWindowHeader,null,c["default"].createElement(d.Flex,{justifyContent:"center"},"Login")),c["default"].createElement(f.ModalWindowBody,null,c["default"].createElement(d.List,{n:1.5},c["default"].createElement(d.ListItem,{n:1.5},c["default"].createElement(f.Input,{value:this.state.email,label:"Email:",placeholder:"e.g. casey@gmail.com",error:this.state.emailError,onChange:this.changeEmail})),c["default"].createElement(d.ListItem,{n:1.5},c["default"].createElement(f.Input,{value:this.state.password,label:"Password:",placeholder:"e.g. BigSecret",error:this.state.passwordError,onChange:this.changePassword,type:"password"})))),c["default"].createElement(f.ModalWindowFooter,null,c["default"].createElement(f.Button,{disabled:e,label:"Login"},"Login"))))}}]),t}(c["default"].Component);t["default"]=(0,s.connect)(function(e){return{isFetching:e.auth.isFetching}})(m)},747:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loginWithToken=t.loginWithCredentials=t.logOut=t.LOGOUT=t.LOGIN=t.REQUEST_AUTH=void 0,n(748);var a=n(749),r=t.REQUEST_AUTH="REQUEST_AUTH",i=t.LOGIN="LOGIN",l=t.LOGOUT="LOGOUT",o=function(){return{type:r}},u=t.logOut=function(){return function(e){localStorage.removeItem("antiVax_auth_token"),e({type:l})}},c=function(e){return{type:i,user:e}};t.loginWithCredentials=function(e,t){return function(n){n(o()),fetch("https://vdziubak.com/antiVaxServer/auth/admin/authenticate-credentials",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(function(e){return e.json()}).then(function(e){e.success?(localStorage.setItem("antiVax_auth_token",e.data.token),n(c(e.data.user))):(n(u()),n((0,a.flashMessage)(e.data.error,"error")))})}},t.loginWithToken=function(e){return function(t){t(o()),fetch("https://vdziubak.com/antiVaxServer/auth/admin/authenticate-token",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})}).then(function(e){return e.json()}).then(function(e){e.success?(localStorage.setItem("antiVax_auth_token",e.data.token),t(c(e.data.user))):(t(u()),t((0,a.flashMessage)(e.data.error,"error")))})}}},749:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.SET_MESSAGE="SET_MESSAGE",a=t.UNSET_MESSAGE="UNSET_MESSAGE",r=function(e,t,a){return{type:n,message:e,messageType:t,timeoutId:a}},i=function(e,t){return{type:a}};t.flashMessage=function(e,t){return function(n){var a=setTimeout(function(){n(i())},2e3);n(r(e,t,a))}}},750:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.blogposts={id:"blogposts",label:"Blogposts"},a=t.faqs={id:"faqs",label:"FAQs"},r=t.sections=[{id:"about-vaccines",label:"About Vaccines"},{id:"vaccine-safety",label:"Vaccine Safety"},{id:"vaccination-schedule",label:"Vaccination Schedule"},{id:"about-project",label:"About Project"},{id:"additional-information",label:"Additional Information"}],i=t.attachments=[{id:"diseases",label:"Diseases"},{id:"vaccines",label:"Vaccines"},{id:"ingridients",label:"Ingridients"},{id:"schedule",label:"Vaccination Schedule"}];t.isSection=function(e){return r.map(function(e){return e.id}).indexOf(e)!==-1},t.isBlogpost=function(e){return e===n.id},t.isAttachment=function(e){return i.map(function(e){return e.id}).indexOf(e)!==-1},t.isFaq=function(e){return e===a.id},t.getCurrentSection=function(e){return[].concat(r,i,[n,a]).filter(function(t){return t.id===e})[0]}},751:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSearchIndex=t.fetchSearchIndex=t.CONFIRM_UPDATE_INDEX=t.REQUEST_UPDATE_INDEX=t.RECEIVE_INDEX=t.REQUEST_INDEX=void 0,n(748);var a=n(749),r=n(747),i=t.REQUEST_INDEX="REQUEST_INDEX",l=t.RECEIVE_INDEX="RECEIVE_INDEX",o=t.REQUEST_UPDATE_INDEX="REQUEST_UPDATE_INDEX",u=t.CONFIRM_UPDATE_INDEX="CONFIRM_UPDATE_INDEX",c=function(){return{type:i}},s=function(e,t){return{type:l,lastUpdatedOn:e,lastUpdatedBy:t}},d=(t.fetchSearchIndex=function(){return function(e,t){e(c()),fetch("https://vdziubak.com/antiVaxServer/searchIndex",{mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")}}).then(function(t){if(401===t.status)throw e((0,r.logOut)()),e((0,a.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return t}).then(function(e){return e.json()}).then(function(t){t.success?e(s(t.data.searchIndex.lastUpdatedOn,t.data.searchIndex.lastUpdatedBy)):(console.error(t.data),e((0,a.flashMessage)("Oops, something went wrong :()","error")))})}},function(){return{type:o}}),f=function(e,t){return{type:u,lastUpdatedOn:e,lastUpdatedBy:t}};t.updateSearchIndex=function(){return function(e,t){e(d()),fetch("https://vdziubak.com/antiVaxServer/searchIndex",{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")}}).then(function(t){if(401===t.status)throw e((0,r.logOut)()),e((0,a.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return t}).then(function(e){return e.json()}).then(function(t){t.success?(e(f(t.data.searchIndex.lastUpdatedOn,t.data.searchIndex.lastUpdatedBy)),e((0,a.flashMessage)("Search index updated","log"))):(console.error(t.data),e((0,a.flashMessage)("Oops, something went wrong :()","error")))})}}},752:function(e,t){},753:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(467),i=n(754),l=(a(i),n(755)),o=a(l),u=n(756),c=a(u),s=[o["default"]],d=function(e){return(0,r.createStore)(c["default"],e,r.applyMiddleware.apply(void 0,s))};t["default"]=d},756:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(467),i=n(757),l=a(i),o=n(759),u=a(o),c=n(760),s=a(c),d=n(762),f=a(d),_=n(764),m=a(_),p=n(766),E=a(p),h=n(768),v=a(h),y=(0,r.combineReducers)({auth:l["default"],flash:u["default"],questions:s["default"],articles:f["default"],users:m["default"],schedule:E["default"],searchIndex:v["default"]});t["default"]=y},757:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(747),l=n(758),o=a(l),u=function(){var e=arguments.length<=0||void 0===arguments[0]?o["default"].auth:arguments[0],t=arguments[1];switch(t.type){case i.REQUEST_AUTH:return r({},o["default"].auth,{isFetching:!0});case i.LOGIN:return{isFetching:!1,user:t.user};case i.LOGOUT:return{isFetching:!1,user:null};default:return e}};t["default"]=u},758:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={auth:{isFetching:!1,user:null},flash:{message:null,type:null,timeoutId:null},questions:{isFetching:!0,items:[]},question:{isUpdating:!1,data:{}},articles:{isFetching:!0,items:[],newArticle:{isUpdating:!1,data:{},errors:{}}},article:{isUpdating:!1,data:{},errors:{}},blogposts:{isFetching:!0,items:[],newBlogpost:{isUpdating:!1,data:{},errors:{}}},blogpost:{isUpdating:!1,data:{},errors:{}},users:{isFetching:!0,items:[],newUser:{isUpdating:!1,data:{},errors:{}}},user:{isUpdating:!1,data:{},errors:{}},schedule:{isFetching:!0,isUpdating:!1,items:[]},searchIndex:{isFetching:!0,isUpdating:!1,lastUpdatedOn:null,lastUpdatedBy:null}}},759:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(749),l=n(758),o=a(l),u=function(){var e=arguments.length<=0||void 0===arguments[0]?r({},o["default"].flash):arguments[0],t=arguments[1];switch(t.type){case i.SET_MESSAGE:return clearTimeout(e.timeoutId),r({},{message:t.message,type:t.messageType,timeoutId:t.timeoutId});case i.UNSET_MESSAGE:return clearTimeout(e.timeoutId),r({},o["default"].flash);default:return e}};t["default"]=u},760:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(761),l=n(758),o=a(l),u=function(){var e=arguments.length<=0||void 0===arguments[0]?o["default"].question:arguments[0],t=arguments[1];switch(t.type){case i.RECEIVE_QUESTIONS:return r({},e,{data:t.item});case i.REQUEST_QUESTION_UPDATE:return e.data._id===t.id?r({},e,{isUpdating:!0}):e;case i.RECEIVE_QUESTION_UPDATE:return e.data._id===t.id?r({},e,{data:t.updatedQuestion,isUpdating:!1}):e;case i.REQUEST_DELETE_QUESTION:return e.data._id===t.id?r({},e,{isUpdating:!0}):e;case i.REJECT_DELETE_QUESTION:return e.data._id===t.id?r({},e,{isUpdating:!1}):e;default:return e}},c=function(){var e=arguments.length<=0||void 0===arguments[0]?o["default"].questions:arguments[0],t=arguments[1];switch(t.type){case i.REQUEST_QUESTIONS:return r({},e,{isFetching:!0});case i.RECEIVE_QUESTIONS:return{isFetching:!1,items:t.items.map(function(e){return u(void 0,{type:t.type,item:e})})};case i.REQUEST_QUESTION_UPDATE:case i.RECEIVE_QUESTION_UPDATE:case i.REQUEST_DELETE_QUESTION:case i.REJECT_DELETE_QUESTION:return r({},e,{items:e.items.map(function(e){return u(e,t)})});case i.CONFIRM_DELETE_QUESTION:return r({},e,{items:e.items.filter(function(e){return e.data._id!==t.id})});default:return e}};t["default"]=c},761:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteQuestion=t.updateQuestion=t.fetchQuestions=t.REJECT_DELETE_QUESTION=t.CONFIRM_DELETE_QUESTION=t.REQUEST_DELETE_QUESTION=t.RECEIVE_QUESTION_UPDATE=t.REQUEST_QUESTION_UPDATE=t.RECEIVE_QUESTIONS=t.REQUEST_QUESTIONS=void 0,n(748);var a=n(749),r=n(747),i=t.REQUEST_QUESTIONS="REQUEST_QUESTIONS",l=t.RECEIVE_QUESTIONS="RECEIVE_QUESTIONS",o=t.REQUEST_QUESTION_UPDATE="REQUEST_QUESTION_UPDATE",u=t.RECEIVE_QUESTION_UPDATE="RECEIVE_QUESTION_UPDATE",c=t.REQUEST_DELETE_QUESTION="REQUEST_DELETE_QUESTION",s=t.CONFIRM_DELETE_QUESTION="CONFIRM_DELETE_QUESTION",d=t.REJECT_DELETE_QUESTION="REJECT_DELETE_QUESTION",f=function(){return{type:i}},_=function(e){return{type:l,items:e}},m=(t.fetchQuestions=function(){return function(e,t){e(f()),fetch("https://vdziubak.com/antiVaxServer/questions/",{mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")}}).then(function(t){if(401===t.status)throw e((0,r.logOut)()),e((0,a.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return t}).then(function(e){return e.json()}).then(function(t){t.success?e(_(t.data.questions)):(console.error(t.data),e((0,a.flashMessage)("Oops, something went wrong :()","error")))})}},function(e){return{type:o,id:e}}),p=function(e,t){return{type:u,id:e,updatedQuestion:t}},E=(t.updateQuestion=function(e,t,n){return function(i,l){i(m(e)),fetch("https://vdziubak.com/antiVaxServer/questions/"+e,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")},body:JSON.stringify({question:t})}).then(function(e){if(401===e.status)throw i((0,r.logOut)()),i((0,a.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return e}).then(function(e){return e.json()}).then(function(t){t.success?(i(p(e,t.data.question)),n&&i((0,a.flashMessage)(n,"log"))):(console.error(t.data),i((0,a.flashMessage)("Oops, something went wrong :()","error")))})["catch"](function(e){throw e})}},function(e){return{type:c,id:e}}),h=function(e){return{type:s,id:e}},v=function(e){return{type:d,id:e}};t.deleteQuestion=function(e){return function(t,n){t(E(e)),fetch("https://vdziubak.com/antiVaxServer/questions/"+e,{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")}}).then(function(e){if(401===e.status)throw t((0,r.logOut)()),t((0,a.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return e}).then(function(e){return e.json()}).then(function(n){n.success?(t(h(e)),t((0,a.flashMessage)("Question was deleted","log"))):(t(v(e)),console.error(n.data),t((0,a.flashMessage)("Oops, something went wrong :()","error")))})}}},762:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=n(763),o=n(758),u=a(o),c=function(){var e=arguments.length<=0||void 0===arguments[0]?u["default"].articles:arguments[0],t=arguments[1];switch(t.type){case l.REQUEST_ARTICLES:return i({},e,{isFetching:!0});case l.RECEIVE_ARTICLES:return i({},e,{isFetching:!1,items:t.items.map(function(e){return s(void 0,{type:t.type,item:e})})});case l.REQUEST_UPDATE_ARTICLE:case l.CONFIRM_UPDATE_ARTICLE:case l.REJECT_UPDATE_ARTICLE:case l.REQUEST_DELETE_ARTICLE:case l.REJECT_DELETE_ARTICLE:return i({},e,{items:e.items.map(function(e){return s(e,t)})});case l.REQUEST_CREATE_ARTICLE:case l.REJECT_CREATE_ARTICLE:return i({},e,{newArticle:d(e.newArticle,t)});case l.CONFIRM_CREATE_ARTICLE:return i({},e,{newArticle:d(e.newArticle,t),items:[s(null,t)].concat(r(e.items))});case l.CONFIRM_DELETE_ARTICLE:return i({},e,{items:e.items.filter(function(e){return e.data._id!==t.id})});default:return e}},s=function(){var e=arguments.length<=0||void 0===arguments[0]?u["default"].article:arguments[0],t=arguments[1];switch(t.type){case l.RECEIVE_ARTICLES:return i({},e,{data:t.item});case l.CONFIRM_CREATE_ARTICLE:return i({},e,{data:t.item});case l.REQUEST_UPDATE_ARTICLE:return e.data._id===t.id?i({},e,{isUpdating:!0}):e;case l.CONFIRM_UPDATE_ARTICLE:return e.data._id===t.id?i({},e,{data:t.item,isUpdating:!1,errors:{}}):e;case l.REJECT_UPDATE_ARTICLE:return e.data._id===t.id?i({},e,{isUpdating:!1,errors:t.errors}):e;case l.REQUEST_DELETE_ARTICLE:return e.data._id===t.id?i({},e,{isUpdating:!0}):e;case l.REJECT_DELETE_ARTICLE:return e.data._id===t.id?i({},e,{isUpdating:!1}):e;default:return e}},d=function(e,t){switch(t.type){case l.REQUEST_CREATE_ARTICLE:return i({},e,{isUpdating:!0});case l.REJECT_CREATE_ARTICLE:return i({},e,{isUpdating:!1,errors:t.errors});case l.CONFIRM_CREATE_ARTICLE:return i({},u["default"].articles.newArticle);default:return e}};t["default"]=c},763:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteArticle=t.createArticle=t.updateArticle=t.fetchArticles=t.REJECT_DELETE_ARTICLE=t.CONFIRM_DELETE_ARTICLE=t.REQUEST_DELETE_ARTICLE=t.REJECT_CREATE_ARTICLE=t.CONFIRM_CREATE_ARTICLE=t.REQUEST_CREATE_ARTICLE=t.REJECT_UPDATE_ARTICLE=t.CONFIRM_UPDATE_ARTICLE=t.REQUEST_UPDATE_ARTICLE=t.RECEIVE_ARTICLES=t.REQUEST_ARTICLES=void 0,n(748);var a=n(594),r=n(749),i=n(747),l=t.REQUEST_ARTICLES="REQUEST_ARTICLES",o=t.RECEIVE_ARTICLES="RECEIVE_ARTICLES",u=t.REQUEST_UPDATE_ARTICLE="REQUEST_UPDATE_ARTICLE",c=t.CONFIRM_UPDATE_ARTICLE="CONFIRM_UPDATE_ARTICLE",s=t.REJECT_UPDATE_ARTICLE="REJECT_UPDATE_ARTICLE",d=t.REQUEST_CREATE_ARTICLE="CREATE_ARTICLE",f=t.CONFIRM_CREATE_ARTICLE="CONFIRM_CREATE_ARTICLE",_=t.REJECT_CREATE_ARTICLE="REJECT_CREATE_ARTICLE",m=t.REQUEST_DELETE_ARTICLE="REQUEST_DELETE_ARTICLE",p=t.CONFIRM_DELETE_ARTICLE="CONFIRM_DELETE_ARTICLE",E=t.REJECT_DELETE_ARTICLE="REJECT_DELETE_ARTICLE",h=function(){return{type:l}},v=function(e){return{type:o,items:e}},y=(t.fetchArticles=function(){return function(e,t){e(h()),fetch("https://vdziubak.com/antiVaxServer/articles/",{mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")}}).then(function(t){if(401===t.status)throw e((0,i.logOut)()),e((0,r.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return t}).then(function(e){return e.json()}).then(function(t){t.success?e(v(t.data.articles)):(console.error(t.data),e((0,r.flashMessage)("Oops, something went wrong :()","error")))})}},function(e){return{type:u,id:e}}),b=function(e,t){return{type:c,id:e,item:t}},g=function(e,t){return{type:s,id:e,errors:t}},I=(t.updateArticle=function(e,t,n){return function(a,l){a(y(e)),fetch("https://vdziubak.com/antiVaxServer/articles/"+e,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")},body:JSON.stringify({article:t})}).then(function(e){if(401===e.status)throw a((0,i.logOut)()),a((0,r.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return e}).then(function(e){return e.json()}).then(function(t){if(t.success)a(b(e,t.data.article)),n&&a((0,r.flashMessage)(n,"log"));else if("ValidationError"===t.data.name){var i={};for(var l in t.data.errors)i[l]=t.data.errors[l].message;a(g(e,i)),a((0,r.flashMessage)("Could not update article due to errors","error"))}else console.error(t.data),a((0,r.flashMessage)("Oops, something went wrong :()","error"))})}},function(){return{type:d}}),S=function(e){return{type:f,item:e}},C=function(e){return{type:_,errors:e}},T=(t.createArticle=function(e){return function(t,n){t(I()),fetch("https://vdziubak.com/antiVaxServer/articles/",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")},body:JSON.stringify({article:e})}).then(function(e){if(401===e.status)throw t((0,i.logOut)()),t((0,r.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return e}).then(function(e){return e.json()}).then(function(e){if(e.success)t(S(e.data.article)),t((0,r.flashMessage)("Article created successfully","log")),a.hashHistory.push("/"+e.data.article.type.id+"/"+e.data.article._id);else if("ValidationError"===e.data.name){var n={};for(var i in e.data.errors)n[i]=e.data.errors[i].message;t(C(n)),t((0,r.flashMessage)("Could not create article due to errors","error"))}else console.error(e.data),t((0,r.flashMessage)("Oops, something went wrong :()","error"))})}},function(e){return{type:m,id:e}}),O=function(e){return{type:p,id:e}},w=function(e){return{type:E,id:e}};t.deleteArticle=function(e){return function(t,n){t(T(e)),fetch("https://vdziubak.com/antiVaxServer/articles/"+e,{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")}}).then(function(e){if(401===e.status)throw t((0,i.logOut)()),t((0,r.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return e}).then(function(e){return e.json()}).then(function(n){n.success?(t(O(e)),t((0,r.flashMessage)("Article was deleted","log"))):(t(w(e)),console.error(n.data),t((0,r.flashMessage)("Oops, something went wrong :()","error")))})}}},764:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=n(765),o=n(758),u=a(o),c=function(){var e=arguments.length<=0||void 0===arguments[0]?u["default"].user:arguments[0],t=arguments[1];switch(t.type){case l.RECEIVE_USERS:return i({},e,{data:t.item});case l.CONFIRM_CREATE_USER:return i({},e,{data:t.item});case l.REQUEST_UPDATE_USER:return e.data._id===t.id?i({},e,{isUpdating:!0}):e;case l.CONFIRM_UPDATE_USER:return e.data._id===t.id?i({},e,{data:t.updatedItem,isUpdating:!1,errors:{}}):e;case l.REJECT_UPDATE_USER:return e.data._id===t.id?i({},e,{isUpdating:!1,errors:t.errors}):e;case l.REQUEST_DELETE_USER:return e.data._id===t.id?i({},e,{isUpdating:!0}):e;case l.REJECT_DELETE_USER:return e.data._id===t.id?i({},e,{isUpdating:!1}):e;default:return e}},s=function(e,t){switch(t.type){case l.REQUEST_CREATE_USER:return i({},e,{isUpdating:!0});case l.REJECT_CREATE_USER:return i({},e,{isUpdating:!1,errors:t.errors});default:return e}},d=function(){var e=arguments.length<=0||void 0===arguments[0]?u["default"].users:arguments[0],t=arguments[1];switch(t.type){case l.REQUEST_USERS:return i({},e,{isFetching:!0});case l.RECEIVE_USERS:return i({},e,{isFetching:!1,items:t.items.map(function(e){return c(void 0,{type:t.type,item:e})})});case l.REQUEST_UPDATE_USER:case l.CONFIRM_UPDATE_USER:case l.REJECT_UPDATE_USER:case l.REQUEST_DELETE_USER:case l.REJECT_DELETE_USER:return i({},e,{items:e.items.map(function(e){return c(e,t)})});case l.REQUEST_CREATE_USER:case l.REJECT_CREATE_USER:return i({},e,{newUser:s(e.newUser,t)});case l.CONFIRM_CREATE_USER:return i({},e,{newUser:u["default"].users.newUser,items:[c(null,t)].concat(r(e.items))});case l.CONFIRM_DELETE_USER:return i({},e,{items:e.items.filter(function(e){return e.data._id!==t.id})});default:return e}};t["default"]=d},765:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteUser=t.createUser=t.updateUser=t.fetchUsers=t.REJECT_DELETE_USER=t.CONFIRM_DELETE_USER=t.REQUEST_DELETE_USER=t.REJECT_CREATE_USER=t.CONFIRM_CREATE_USER=t.REQUEST_CREATE_USER=t.REJECT_UPDATE_USER=t.CONFIRM_UPDATE_USER=t.REQUEST_UPDATE_USER=t.RECEIVE_USERS=t.REQUEST_USERS=void 0,n(748);var a=n(594),r=n(749),i=n(747),l=t.REQUEST_USERS="REQUEST_USERS",o=t.RECEIVE_USERS="RECEIVE_USERS",u=t.REQUEST_UPDATE_USER="REQUEST_UPDATE_USER",c=t.CONFIRM_UPDATE_USER="CONFIRM_UPDATE_USER",s=t.REJECT_UPDATE_USER="REJECT_UPDATE_USER",d=t.REQUEST_CREATE_USER="CREATE_USER",f=t.CONFIRM_CREATE_USER="CONFIRM_CREATE_USER",_=t.REJECT_CREATE_USER="REJECT_CREATE_USER",m=t.REQUEST_DELETE_USER="REQUEST_DELETE_USER",p=t.CONFIRM_DELETE_USER="CONFIRM_DELETE_USER",E=t.REJECT_DELETE_USER="REJECT_DELETE_USER",h=function(){return{type:l}},v=function(e){return{type:o,items:e}},y=(t.fetchUsers=function(){return function(e,t){e(h()),fetch("https://vdziubak.com/antiVaxServer/users/",{mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")}}).then(function(t){if(401===t.status)throw e((0,i.logOut)()),e((0,r.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return t}).then(function(e){return e.json()}).then(function(t){t.success?e(v(t.data.users)):(console.error(t.data),e((0,r.flashMessage)("Oops, something went wrong :()","error")))})}},function(e){return{type:u,id:e}}),b=function(e,t){return{type:c,id:e,updatedItem:t}},g=function(e,t){return{type:s,id:e,errors:t}},I=(t.updateUser=function(e,t,n){return function(a,l){a(y(e)),fetch("https://vdziubak.com/antiVaxServer/users/"+e,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")},body:JSON.stringify({user:t})}).then(function(e){if(401===e.status)throw a((0,i.logOut)()),a((0,r.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return e}).then(function(e){return e.json()}).then(function(t){if(t.success)a(b(e,t.data.user)),n&&a((0,r.flashMessage)(n,"log"));else if("ValidationError"===t.data.name){var i={};for(var l in t.data.errors)i[l]=t.data.errors[l].message;a(g(e,i)),a((0,r.flashMessage)("Could not update user due to errors","error"))}else console.error(t.data),a((0,r.flashMessage)("Oops, something went wrong :()","error"))})}},function(){return{type:d}}),S=function(e){return{type:f,item:e}},C=function(e){return{type:_,errors:e}},T=(t.createUser=function(e){return function(t,n){t(I()),fetch("https://vdziubak.com/antiVaxServer/users",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")},body:JSON.stringify({user:e})}).then(function(e){if(401===e.status)throw t((0,i.logOut)()),t((0,r.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return e}).then(function(e){return e.json()}).then(function(e){if(e.success)t(S(e.data.user)),t((0,r.flashMessage)("User created successfully","log")),a.hashHistory.push("/users/"+e.data.user._id);else if("ValidationError"===e.data.name){var n={};for(var i in e.data.errors)n[i]=e.data.errors[i].message;t(C(n)),t((0,r.flashMessage)("Could not create user due to errors","error"))}else console.error(e.data),t((0,r.flashMessage)("Oops, something went wrong :()","error"))})}},function(e){return{type:m,id:e}}),O=function(e){return{type:p,id:e}},w=function(e){return{type:E,id:e}};t.deleteUser=function(e){return function(t,n){t(T(e)),fetch("https://vdziubak.com/antiVaxServer/users/"+e,{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")}}).then(function(e){if(401===e.status)throw t((0,i.logOut)()),t((0,r.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return e}).then(function(e){return e.json()}).then(function(n){n.success?(t(O(e)),t((0,r.flashMessage)("User was deleted","log"))):(t(w(e)),console.error(n.data),t((0,r.flashMessage)("Oops, something went wrong :()","error")))})}}},766:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(767),l=n(758),o=a(l),u=function(){var e=arguments.length<=0||void 0===arguments[0]?o["default"].schedule:arguments[0],t=arguments[1];switch(t.type){case i.REQUEST_SCHEDULE:return r({},e,{isFetching:!0});case i.RECEIVE_SCHEDULE:return r({},e,{isFetching:!1,items:t.items});case i.REQUEST_UPDATE_SCHEDULE:return r({},e,{isUpdating:!0});case i.RECEIVE_UPDATE_SCHEDULE:return r({},e,{isUpdating:!1,items:t.items});default:return e}};t["default"]=u},767:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSchedule=t.fetchSchedule=t.RECEIVE_UPDATE_SCHEDULE=t.REQUEST_UPDATE_SCHEDULE=t.RECEIVE_SCHEDULE=t.REQUEST_SCHEDULE=void 0,n(748);var a=n(749),r=n(747),i=t.REQUEST_SCHEDULE="REQUEST_SCHEDULE",l=t.RECEIVE_SCHEDULE="RECEIVE_SCHEDULE",o=t.REQUEST_UPDATE_SCHEDULE="REQUEST_UPDATE_SCHEDULE",u=t.RECEIVE_UPDATE_SCHEDULE="RECEIVE_UPDATE_SCHEDULE",c=function(){return{type:i}},s=function(e){return{type:l,items:e}},d=(t.fetchSchedule=function(){return function(e,t){e(c()),fetch("https://vdziubak.com/antiVaxServer/schedule",{mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")}}).then(function(t){if(401===t.status)throw e((0,r.logOut)()),e((0,a.flashMessage)("Authorization failed. Please, log in again","error")),
new Error("Unauthorized action");return t}).then(function(e){return e.json()}).then(function(t){t.success?e(s(t.data.schedule.items)):(console.error(t.data),e((0,a.flashMessage)("Oops, something went wrong :()","error")))})}},function(){return{type:o}}),f=function(e){return{type:u,items:e}};t.updateSchedule=function(e,t){return function(n,i){n(d()),fetch("https://vdziubak.com/antiVaxServer/schedule",{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")},body:JSON.stringify({schedule:e})}).then(function(e){if(401===e.status)throw n((0,r.logOut)()),n((0,a.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return e}).then(function(e){return e.json()}).then(function(e){e.success?(n(f(e.data.schedule.items)),t&&n((0,a.flashMessage)(t,"log"))):(console.error(e.data),n((0,a.flashMessage)("Oops, something went wrong :()","error")))})["catch"](function(e){throw e})}}},768:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(751),l=n(758),o=a(l),u=function(){var e=arguments.length<=0||void 0===arguments[0]?o["default"].searchIndex:arguments[0],t=arguments[1];switch(t.type){case i.REQUEST_INDEX:return r({},e,{isFetching:!0});case i.RECEIVE_INDEX:return r({},e,{isFetching:!1,lastUpdatedOn:t.lastUpdatedOn,lastUpdatedBy:t.lastUpdatedBy});case i.REQUEST_UPDATE_INDEX:return r({},e,{isUpdating:!0});case i.CONFIRM_UPDATE_INDEX:return r({},e,{isUpdating:!1,lastUpdatedOn:t.lastUpdatedOn,lastUpdatedBy:t.lastUpdatedBy});default:return e}};t["default"]=u},769:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(299),s=a(c),d=n(460),f=n(763),_=n(770),m=a(_),p=n(774),E=a(p),h=n(590),v=n(744),y=a(v),b=n(779),g=a(b),I=n(750),S=function(e){function t(e){r(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={notFound:!1},n}return l(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.dispatch,n=e.params;(0,I.isSection)(n.sectionId)||(0,I.isAttachment)(n.sectionId)||(0,I.isBlogpost)(n.sectionId)||(0,I.isFaq)(n.sectionId)?(this.setState({notFound:!1}),t((0,f.fetchArticles)())):this.setState({notFound:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=e.params;t.sectionId!==this.props.params.sectionId&&((0,I.isSection)(t.sectionId)||(0,I.isAttachment)(t.sectionId)||(0,I.isBlogpost)(t.sectionId)||(0,I.isFaq)(t.sectionId)?this.setState({notFound:!1}):this.setState({notFound:!0}))}},{key:"render",value:function(){var e=this;if(this.state.notFound)return s["default"].createElement(g["default"],null);var t=function(){var t=e.props,n=t.children,a=t.isFetching,r=t.items,i=t.params,l=(0,I.getCurrentSection)(i.sectionId);if(a)return{v:s["default"].createElement(y["default"],null)};var o=r.filter(function(e){return e.data.type.id===l.id}).map(function(e){return s["default"].createElement(E["default"],{key:e.data._id,item:e})}),u=s["default"].createElement("div",null,s["default"].createElement(h.Button,{med:!0,to:l.id+"/new",theme:"accent1"},"Create new"));return{v:s["default"].createElement(m["default"],{title:l.label,items:o,actions:u,children:n})}}();return"object"===("undefined"==typeof t?"undefined":o(t))?t.v:void 0}}]),t}(s["default"].Component);t["default"]=(0,d.connect)(function(e){return{isFetching:e.articles.isFetching,items:e.articles.items}})(S)},770:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),l=n(771),o=a(l),u=n(772),c=a(u),s=n(666),d=function(e){var t=e.title,n=e.items,a=e.actions,r=void 0===a?"":a,l=e.children;return l?l:i["default"].createElement("div",{className:o["default"].Directory},i["default"].createElement("div",{className:o["default"].Directory__header},i["default"].createElement(s.Flex,{justifyContent:"space-between"},i["default"].createElement(c["default"],{label:t}),r)),i["default"].createElement("div",{className:o["default"].Directory__body},n))};t["default"]=d},771:function(e,t){e.exports={Directory:"Directory__Directory___3ZXQu",Directory__header:"Directory__Directory__header___1mJxL",Directory__body:"Directory__Directory__body___2uWhM"}},772:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),l=n(773),o=a(l),u=function(e){var t=e.label,n=e.theme,a=void 0===n?"default":n,r=[o["default"].Title];switch(a){case"success":r.push(o["default"].Title_success);break;case"error":r.push(o["default"].Title_error);break;case"default":default:r.push(o["default"].Title_default)}return i["default"].createElement("div",{className:r.join(" ")},t)};t["default"]=u},773:function(e,t){e.exports={Title:"Title__Title___17BuK",Title_default:"Title__Title_default___3EBMd",Title_success:"Title__Title_success___2uRxK",Title_error:"Title__Title_error___1YSuV"}},774:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),c=a(u),s=n(460),d=n(482),f=a(d),_=n(775),m=a(_),p=n(777),E=n(666),h=n(590),v=n(763),y=function(e){function t(e){r(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.publish=n.publish.bind(n),n["delete"]=n["delete"].bind(n),n}return l(t,e),o(t,[{key:"publish",value:function(){var e=this.props,t=e.dispatch,n=e.item,a={isPublished:!n.data.isPublished};t((0,v.updateArticle)(n.data._id,a))}},{key:"delete",value:function(){var e=this.props,t=e.dispatch,n=e.item;t((0,v.deleteArticle)(n.data._id))}},{key:"render",value:function(){var e=this.props.item;return c["default"].createElement(p.DirectoryItem,null,c["default"].createElement(E.Block,{n:.5},c["default"].createElement(E.Flex,{justifyContent:"space-between",alignItems:"center"},c["default"].createElement(E.ListInline,null,c["default"].createElement(E.ListInlineItem,null,c["default"].createElement(m["default"],{label:e.data.isPublished?"Published":"Draft",theme:e.data.isPublished?"success":"error"})),c["default"].createElement(E.ListInlineItem,null,c["default"].createElement(p.DirectoryItemInfo,null,"Last modified by ",e.data.lastModifiedBy," on ",c["default"].createElement(f["default"],{value:e.data.lastModifiedAt,format:"MMMM Do YYYY (h:mm a)"})))),c["default"].createElement(E.ListInline,null,c["default"].createElement(E.ListInlineItem,null,c["default"].createElement(h.Button,{small:!0,disabled:e.isUpdating,inverse:!0,theme:e.data.isPublished?"error":"accent1",onClick:this.publish},e.data.isPublished?"Unpublish":"Publish")),c["default"].createElement(E.ListInlineItem,null,c["default"].createElement(h.Button,{small:!0,disabled:e.isUpdating||e.data.isPublished,inverse:!0,theme:"error",onClick:this["delete"]},"Delete"))))),c["default"].createElement(p.DirectoryItemTitle,{to:e.data.type.id+"/"+e.data._id},e.data.title))}}]),t}(c["default"].Component);t["default"]=(0,s.connect)()(y)},775:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),l=n(776),o=a(l),u=function(e){var t=e.label,n=e.theme,a=void 0===n?"default":n,r=[o["default"].Badge];switch(a){case"accent1":r.push(o["default"].Badge_accent1);break;case"accent2":r.push(o["default"].Badge_accent2);break;case"error":r.push(o["default"].Badge_error);break;case"success":r.push(o["default"].Badge_success);break;case"default":default:r.push(o["default"].Badge_default)}return i["default"].createElement("div",{className:r.join(" ")},t)};t["default"]=u},776:function(e,t){e.exports={Badge:"Badge__Badge___33eQR",Badge_default:"Badge__Badge_default___xOU8r",Badge_accent1:"Badge__Badge_accent1___3fv6w",Badge_accent2:"Badge__Badge_accent2___2K_gl",Badge_error:"Badge__Badge_error___baxoF",Badge_success:"Badge__Badge_success___1K0zf"}},777:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DirectoryItemInfo=t.DirectoryItemTitle=t.DirectoryItem=void 0;var r=n(299),i=a(r),l=n(594),o=n(778),u=a(o),c=function(e){var t=e.children;return i["default"].createElement("div",{className:u["default"].DirectoryItem},t)},s=function(e){var t=e.children,n=e.to,a=void 0===n?null:n;return a?i["default"].createElement(l.Link,{to:a,className:u["default"].DirectoryItem__title+" "+u["default"].DirectoryItem__title_link},t):i["default"].createElement("div",{className:u["default"].DirectoryItem__title},t)},d=function(e){var t=e.children;return i["default"].createElement("div",{className:u["default"].DirectoryItem__info},t)};t.DirectoryItem=c,t.DirectoryItemTitle=s,t.DirectoryItemInfo=d},778:function(e,t){e.exports={DirectoryItem:"DirectoryItem__DirectoryItem___1Ns4D",DirectoryItem__title:"DirectoryItem__DirectoryItem__title___6_4Jv",DirectoryItem__title_link:"DirectoryItem__DirectoryItem__title_link___3aJXW",DirectoryItem__info:"DirectoryItem__DirectoryItem__info___3JI-u"}},779:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),l=function(){return i["default"].createElement("div",null,"404: Page Not Found")};t["default"]=l},780:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(299),d=a(s),f=n(460),_=n(781),m=n(666),p=n(590),E=n(763),h=n(772),v=a(h),y=n(750),b=function(e){function t(e){i(this,t);var n=l(this,Object.getPrototypeOf(t).call(this,e));return n.save=n.save.bind(n),n.change=n.change.bind(n),n.currentSection=(0,y.getCurrentSection)(n.props.params.sectionId),n.state={data:{title:"",url:"",snippet:"",content:"",isPublished:!1,attachment:""},errors:{}},n}return o(t,e),c(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.item.errors;this.setState({errors:u({},t)})}},{key:"save",value:function(){var e=this.props.dispatch,t=u({},this.state.data,{type:this.currentSection});e((0,E.createArticle)(t))}},{key:"change",value:function(e,t){var n=r({},e,t),a=r({},e,null);this.setState({data:u({},this.state.data,n),errors:u({},this.state.errors,a)})}},{key:"render",value:function(){var e=this,t=this.props.item.isUpdating,n="";(0,y.isSection)(this.currentSection.id)&&(n=d["default"].createElement(p.Select,{options:y.attachments,onChange:function(t){return e.change("attachment",t)},value:this.state.data.attachment,label:"Attachment:"}));var a="";return(0,y.isBlogpost)(this.currentSection.id)&&(a=d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Editor,{label:"Preview:",value:this.state.data.snippet,error:this.state.errors.snippet,disabled:t,onChange:function(t){return e.change("snippet",t)}}))),d["default"].createElement(_.ItemForm,null,d["default"].createElement(_.ItemFormHeader,null,d["default"].createElement(m.Flex,{justifyContent:"space-between"},d["default"].createElement(v["default"],{label:"New "+this.currentSection.label+" page"}),d["default"].createElement(m.ListInline,null,d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.Button,{theme:"accent1",disabled:t,onClick:this.save},"Save")),d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.Button,{inverse:!0,theme:"accent1",disabled:t,to:this.currentSection.id},"Cancel"))))),d["default"].createElement(_.ItemFormBody,null,d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Input,{label:"Title:",value:this.state.data.title,error:this.state.errors.title,disabled:t,onChange:function(t){return e.change("title",t)}})),d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Input,{label:"URL:",value:this.state.data.url,error:this.state.errors.url,disabled:t,onChange:function(t){return e.change("url",t)}})),d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Checkbox,{label:"Published:",checked:this.state.data.isPublished,disabled:t,onChange:function(t){return e.change("isPublished",t)}})),a,d["default"].createElement(m.Block,{n:n?3:0},d["default"].createElement(p.Editor,{label:"Content:",value:this.state.data.content,error:this.state.errors.content,disabled:t,onChange:function(t){return e.change("content",t)}})),n))}}]),t}(d["default"].Component);t["default"]=(0,f.connect)(function(e){return{item:e.articles.newArticle}})(b)},781:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ItemFormBody=t.ItemFormHeader=t.ItemForm=void 0;var r=n(299),i=a(r),l=n(782),o=a(l),u=function(e){var t=e.children;return i["default"].createElement("div",{className:o["default"].ItemForm},t)},c=function(e){var t=e.children;return i["default"].createElement("div",{className:o["default"].ItemForm__header},t)},s=function(e){var t=e.children;return i["default"].createElement("div",{className:o["default"].ItemForm__body},t)};t.ItemForm=u,t.ItemFormHeader=c,t.ItemFormBody=s},782:function(e,t){e.exports={ItemForm:"ItemForm__ItemForm___2L4UU",ItemForm__header:"ItemForm__ItemForm__header___1s_fV",ItemForm__body:"ItemForm__ItemForm__body___3zeWT"}},783:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(299),d=a(s),f=n(460),_=n(666),m=n(590),p=n(763),E=n(781),h=n(772),v=a(h),y=n(750),b=n(784),g=a(b),I=function(e){function t(e){i(this,t);var n=l(this,Object.getPrototypeOf(t).call(this,e));return n.save=n.save.bind(n),n.change=n.change.bind(n),n.deleteComment=n.deleteComment.bind(n),n.deleteReply=n.deleteReply.bind(n),n.currentSection=e.item.data.type,n.state={isDirty:!1,data:u({},e.item.data),errors:u({},e.item.errors)},n}return o(t,e),c(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.item,n=t.errors,a=t.data,r=t.isUpdating;if(!r){var i={};i=0===Object.keys(n).length&&n.constructor===Object?{isDirty:!1,data:a,errors:{}}:{errors:u({},n)},this.setState(i)}}},{key:"save",value:function(){var e=this.props.dispatch;e((0,p.updateArticle)(this.props.item.data._id,this.state.data))}},{key:"change",value:function(e,t){var n=r({},e,t),a=r({},e,null);this.setState({isDirty:!0,data:u({},this.state.data,n),errors:u({},this.state.errors,a)})}},{key:"deleteComment",value:function(e){var t=this.state.data.comments.map(function(t){return t._id===e?u({},t,{isDeleted:!t.isDeleted}):t});this.setState({isDirty:!0,data:u({},this.state.data,{comments:t})})}},{key:"deleteReply",value:function(e,t){var n=this.state.data.comments.filter(function(e){return e._id===t})[0],a=n.replies.map(function(t){return t._id===e?u({},t,{isDeleted:!t.isDeleted}):t});this.setState({isDirty:!0,data:u({},this.state.data,{comments:this.state.data.comments.map(function(e){return e._id===t?u({},e,{replies:a}):e})})})}},{key:"render",value:function(){var e=this,t=this.props.item.isUpdating,n="";(0,y.isSection)(this.currentSection.id)&&(n=d["default"].createElement(m.Select,{options:y.attachments,onChange:function(t){return e.change("attachment",t)},value:this.state.data.attachment,label:"Attachment:"}));var a="";(0,y.isBlogpost)(this.currentSection.id)&&(a=d["default"].createElement(_.Block,{n:1},d["default"].createElement(m.Editor,{label:"Preview:",value:this.state.data.snippet,error:this.state.errors.snippet,disabled:t,onChange:function(t){return e.change("snippet",t)}})));var r="";(0,y.isBlogpost)(this.currentSection.id)&&this.state.data.comments.length>0&&(r=d["default"].createElement(g["default"],{items:this.state.data.comments,onDeleteComment:this.deleteComment,onDeleteReply:this.deleteReply}));var i="";return i=this.state.isDirty?d["default"].createElement(_.Flex,{justifyContent:"space-between"},d["default"].createElement(v["default"],{label:"Unsaved Changes",theme:"error"}),d["default"].createElement(_.ListInline,null,d["default"].createElement(_.ListInlineItem,null,d["default"].createElement(m.Button,{theme:"accent1",disabled:t,onClick:this.save},"Save")),d["default"].createElement(_.ListInlineItem,null,d["default"].createElement(m.Button,{inverse:!0,theme:"accent1",disabled:t,to:this.props.item.data.type.id},"Cancel")))):d["default"].createElement(_.Flex,{justifyContent:"space-between"},d["default"].createElement(v["default"],{label:"All Saved",theme:"success"}),d["default"].createElement(m.Button,{inverse:!0,theme:"accent1",disabled:t,to:this.props.item.data.type.id},"Close")),d["default"].createElement(E.ItemForm,null,d["default"].createElement(E.ItemFormHeader,null,i),d["default"].createElement(E.ItemFormBody,null,d["default"].createElement(_.Block,{n:1},d["default"].createElement(m.Input,{label:"Title:",value:this.state.data.title,error:this.state.errors.title,disabled:t,onChange:function(t){return e.change("title",t)}})),d["default"].createElement(_.Block,{n:1},d["default"].createElement(m.Input,{label:"URL:",value:this.state.data.url,error:this.state.errors.url,disabled:t,onChange:function(t){return e.change("url",t)}})),d["default"].createElement(_.Block,{n:1},d["default"].createElement(m.Checkbox,{label:"Published:",checked:this.state.data.isPublished,disabled:t,onChange:function(t){return e.change("isPublished",t)}})),a,d["default"].createElement(_.Block,{n:n||r?3:0},d["default"].createElement(m.Editor,{label:"Content:",value:this.state.data.content,error:this.state.errors.content,disabled:t,onChange:function(t){return e.change("content",t)}})),n,r))}}]),t}(d["default"].Component);t["default"]=(0,f.connect)(function(e,t){var n=t.params.itemId;return{item:e.articles.items?e.articles.items.filter(function(e){return e.data._id===n})[0]:{data:{},errors:{}}}})(I)},784:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),l=n(785),o=a(l),u=n(666),c=n(772),s=a(c),d=function(e){var t=e.items,n=e.onDeleteComment,a=e.onDeleteReply,r=t.sort(function(e,t){return e.createdAt>t.createdAt?-1:e.createdAt<t.createdAt?1:0}),l=r.map(function(e){return i["default"].createElement(o["default"],{key:e._id,item:e,onDeleteComment:n,onDeleteReply:a})});return i["default"].createElement("div",null,i["default"].createElement(u.Block,null,i["default"].createElement(s["default"],{label:"Comments"})),l)};t["default"]=d},785:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),l=n(482),o=a(l),u=n(786),c=a(u),s=n(666),d=n(590),f=function(e){var t=e.item,n=e.onDeleteReply,a=e.commentId,r=e.commentIsDeleted,l="";return l=t.isDeleted?i["default"].createElement(s.ListInline,null,i["default"].createElement(s.ListInlineItem,null,i["default"].createElement("div",{className:c["default"].Reply__deleteInfo},"reply will be deleted on save")),i["default"].createElement(s.ListInlineItem,null,i["default"].createElement(d.Button,{small:!0,inverse:!0,theme:"accent1",disabled:r,onClick:function(){return n(t._id,a)}},"Put back"))):i["default"].createElement(d.Button,{small:!0,inverse:!0,theme:"error",disabled:r,onClick:function(){return n(t._id,a)}},"Delete"),i["default"].createElement("div",{className:c["default"].Reply+" "+(t.isDeleted?c["default"].Reply_deleted:"")},i["default"].createElement(s.Block,{n:.5},i["default"].createElement(s.Flex,{justifyContent:"space-between"},i["default"].createElement("div",{className:c["default"].Reply__info},"Posted by ",t.lastModifiedBy," on ",i["default"].createElement(o["default"],{value:t.createdAt,format:"MMMM Do YYYY (h:mm a)"})),l)),i["default"].createElement("div",{className:c["default"].Reply__body,dangerouslySetInnerHTML:{__html:t.content}}))},_=function(e){var t=e.item,n=e.onDeleteComment,a=e.onDeleteReply,r=t.replies.sort(function(e,t){return e.createdAt>t.createdAt?-1:e.createdAt<t.createdAt?1:0}),l=r.map(function(e){return i["default"].createElement(f,{key:e._id,commentId:t._id,item:e,onDeleteReply:a,commentIsDeleted:t.isDeleted})}),u="";return u=t.isDeleted?i["default"].createElement(s.ListInline,null,i["default"].createElement(s.ListInlineItem,null,i["default"].createElement("div",{className:c["default"].Comment__deleteInfo},"comment will be deleted on save")),i["default"].createElement(s.ListInlineItem,null,i["default"].createElement(d.Button,{small:!0,inverse:!0,theme:"accent1",onClick:function(){return n(t._id)}},"Put back"))):i["default"].createElement(d.Button,{small:!0,inverse:!0,theme:"error",onClick:function(){return n(t._id)}},"Delete"),i["default"].createElement("div",{className:c["default"].Comment+" "+(t.isDeleted?c["default"].Comment_deleted:"")},i["default"].createElement("div",{className:c["default"].Comment__comment},i["default"].createElement(s.Block,{n:.5},i["default"].createElement(s.Flex,{justifyContent:"space-between"},i["default"].createElement("div",{className:c["default"].Comment__info},"Posted by ",t.lastModifiedBy," on ",i["default"].createElement(o["default"],{value:t.createdAt,format:"MMMM Do YYYY (h:mm a)"})),u)),i["default"].createElement(s.Block,{n:1},i["default"].createElement("div",{className:c["default"].Comment__body,dangerouslySetInnerHTML:{__html:t.content}})),i["default"].createElement("div",{className:c["default"].Comment__replies},l)))};t["default"]=_},786:function(e,t){e.exports={Comment:"Comment__Comment___CLS2w",Comment__deleteInfo:"Comment__Comment__deleteInfo___1xQWE",Comment__info:"Comment__Comment__info___1rool",Comment__comment:"Comment__Comment__comment___PQT67",Comment__body:"Comment__Comment__body___1S5F6",Comment__replies:"Comment__Comment__replies___PXLXR",Comment_deleted:"Comment__Comment_deleted___2nkYX",Reply:"Comment__Reply___1J5JO",Reply__deleteInfo:"Comment__Reply__deleteInfo___2OAbX",Reply__info:"Comment__Reply__info___30jI2",Reply__body:"Comment__Reply__body___1qhpn",Reply_deleted:"Comment__Reply_deleted___1kOVQ"}},787:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),c=a(u),s=n(460),d=n(765),f=n(770),_=a(f),m=n(788),p=a(m),E=n(590),h=n(744),v=a(h),y=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),o(t,[{key:"componentWillMount",value:function(){var e=this.props.dispatch;e((0,d.fetchUsers)())}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.isFetching,a=e.items;if(n)return c["default"].createElement(v["default"],null);var r=a.map(function(e){return c["default"].createElement(p["default"],{key:e.data._id,item:e})}),i=c["default"].createElement("div",null,c["default"].createElement(E.Button,{to:"/users/new",theme:"accent1"},"Create new"));return c["default"].createElement(_["default"],{title:"Users",items:r,actions:i,children:t})}}]),t}(c["default"].Component);t["default"]=(0,s.connect)(function(e){return{isFetching:e.users.isFetching,items:e.users.items}})(y)},788:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),c=a(u),s=n(460),d=n(482),f=a(d),_=n(775),m=a(_),p=n(777),E=n(666),h=n(590),v=n(765),y=function(e){function t(e){r(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.disable=n.disable.bind(n),n["delete"]=n["delete"].bind(n),n}return l(t,e),o(t,[{key:"disable",value:function(){var e=this.props,t=e.dispatch,n=e.item,a={isEnabled:!n.data.isEnabled};t((0,v.updateUser)(n.data._id,a))}},{key:"delete",value:function(){var e=this.props,t=e.dispatch,n=e.item;t((0,v.deleteUser)(n.data._id))}},{key:"render",value:function(){var e=this.props.item,t="";return t=e.data.lastLoggedInAt?c["default"].createElement(p.DirectoryItemInfo,null,"Last log in on ",c["default"].createElement(f["default"],{value:e.data.lastLoggedInAt,format:"MMMM Do YYYY (h:mm a)"})):c["default"].createElement(p.DirectoryItemInfo,null,"Never logged in"),c["default"].createElement(p.DirectoryItem,{draft:!e.data.isEnabled},c["default"].createElement(E.Block,{n:.5},c["default"].createElement(E.Flex,{justifyContent:"space-between",alignItems:"center"},t,c["default"].createElement(E.ListInline,null,c["default"].createElement(E.ListInlineItem,null,c["default"].createElement(h.Button,{small:!0,disabled:e.disable,inverse:!0,theme:e.data.isEnabled?"error":"accent1",onClick:this.disable},e.data.isEnabled?"Disable":"Enable")),c["default"].createElement(E.ListInlineItem,null,c["default"].createElement(h.Button,{small:!0,disabled:e.isUpdating||e.data.isEnabled,inverse:!0,theme:"error",onClick:this["delete"]},"Delete"))))),c["default"].createElement(E.ListInline,null,c["default"].createElement(E.ListInlineItem,null,c["default"].createElement(p.DirectoryItemTitle,{to:"users/"+e.data._id},e.data.name," (",e.data.email,")")),e.data.isEnabled?"":c["default"].createElement(E.ListInlineItem,null,c["default"].createElement(m["default"],{label:"Disabled",theme:"error"})),e.data.admin?c["default"].createElement(E.ListInlineItem,null,c["default"].createElement(m["default"],{label:"Admin",theme:"success"})):""))}}]),t}(c["default"].Component);t["default"]=(0,s.connect)()(y)},789:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=function(){function e(e,t){
for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(299),d=a(s),f=n(460),_=n(781),m=n(666),p=n(590),E=n(765),h=n(772),v=a(h),y=function(e){function t(e){i(this,t);var n=l(this,Object.getPrototypeOf(t).call(this,e));return n.save=n.save.bind(n),n.change=n.change.bind(n),n.state={data:{name:"",email:"",password:"",admin:"",isEnabled:!1},errors:{}},n}return o(t,e),c(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.item.errors;this.setState({errors:u({},t)})}},{key:"save",value:function(){var e=this.props.dispatch;e((0,E.createUser)(this.state.data))}},{key:"change",value:function(e,t){var n=r({},e,t),a=r({},e,null);this.setState({data:u({},this.state.data,n),errors:u({},this.state.errors,a)})}},{key:"render",value:function(){var e=this,t=this.props.item.isUpdating;return d["default"].createElement(_.ItemForm,null,d["default"].createElement(_.ItemFormHeader,null,d["default"].createElement(m.Flex,{justifyContent:"space-between"},d["default"].createElement(v["default"],{label:"Create User"}),d["default"].createElement(m.ListInline,null,d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.Button,{theme:"accent1",disabled:t,onClick:this.save},"Save")),d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.Button,{inverse:!0,theme:"accent1",disabled:t,to:"users"},"Cancel"))))),d["default"].createElement(_.ItemFormBody,null,d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Input,{label:"Full Name",value:this.state.data.name,error:this.state.errors.name,disabled:t,onChange:function(t){return e.change("name",t)}})),d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Input,{label:"Email",value:this.state.data.email,error:this.state.errors.email,disabled:t,onChange:function(t){return e.change("email",t)}})),d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Input,{label:"Password",value:this.state.data.password,error:this.state.errors.password,disabled:t,onChange:function(t){return e.change("password",t)}})),d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Checkbox,{label:"Enabled",checked:this.state.data.isEnabled,disabled:t,onChange:function(t){return e.change("isEnabled",t)}})),d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Checkbox,{label:"Admin",checked:this.state.data.admin,disabled:t,onChange:function(t){return e.change("admin",t)}}))))}}]),t}(d["default"].Component);t["default"]=(0,f.connect)(function(e){return{item:e.users.newUser}})(y)},790:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(299),d=a(s),f=n(460),_=n(781),m=n(666),p=n(590),E=n(765),h=n(772),v=a(h),y=function(e){function t(e){i(this,t);var n=l(this,Object.getPrototypeOf(t).call(this,e));return n.save=n.save.bind(n),n.change=n.change.bind(n),n.state={isDirty:!1,data:u({},e.item.data),errors:u({},e.item.errors)},n}return o(t,e),c(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.item,n=t.errors,a=t.data,r=t.isUpdating;if(!r){var i={};i=0===Object.keys(n).length&&n.constructor===Object?{isDirty:!1,data:a,errors:{}}:{errors:u({},n)},this.setState(i)}}},{key:"save",value:function(){var e=this.props.dispatch;e((0,E.updateUser)(this.props.item.data._id,this.state.data))}},{key:"change",value:function(e,t){var n=r({},e,t),a=r({},e,null);this.setState({isDirty:!0,data:u({},this.state.data,n),errors:u({},this.state.errors,a)})}},{key:"render",value:function(){var e=this,t=this.props.item.isUpdating,n="";return n=this.state.isDirty?d["default"].createElement(m.Flex,{justifyContent:"space-between"},d["default"].createElement(v["default"],{label:"Unsaved Changes",theme:"error"}),d["default"].createElement(m.ListInline,null,d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.Button,{theme:"accent1",disabled:t,onClick:this.save},"Save")),d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.Button,{inverse:!0,theme:"accent1",disabled:t,to:"users"},"Cancel")))):d["default"].createElement(m.Flex,{justifyContent:"space-between"},d["default"].createElement(v["default"],{label:"All Saved",theme:"success"}),d["default"].createElement(p.Button,{small:!0,inverse:!0,theme:"accent1",disabled:t,to:"users"},"Close")),d["default"].createElement(_.ItemForm,null,d["default"].createElement(_.ItemFormHeader,null,n),d["default"].createElement(_.ItemFormBody,null,d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Input,{label:"Full Name",value:this.state.data.name,error:this.state.errors.name,disabled:t,onChange:function(t){return e.change("name",t)}})),d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Input,{label:"Email",value:this.state.data.email,error:this.state.errors.email,disabled:t,onChange:function(t){return e.change("email",t)}})),d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Checkbox,{label:"Enabled",checked:this.state.data.isEnabled,disabled:t,onChange:function(t){return e.change("isEnabled",t)}})),d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Checkbox,{label:"Admin",checked:this.state.data.admin,disabled:t,onChange:function(t){return e.change("admin",t)}}))))}}]),t}(d["default"].Component);t["default"]=(0,f.connect)(function(e,t){var n=t.params.itemId;return{item:e.users.items?e.users.items.filter(function(e){return e.data._id===n})[0]:{data:{},errors:{}}}})(y)},791:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),c=a(u),s=n(460),d=n(761),f=n(770),_=a(f),m=n(792),p=a(m),E=n(744),h=a(E),v=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return l(t,e),o(t,[{key:"componentWillMount",value:function(){var e=this.props.dispatch;e((0,d.fetchQuestions)())}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.isFetching,a=e.items;if(n)return c["default"].createElement(h["default"],null);var r=a.map(function(e){return c["default"].createElement(p["default"],{key:e.data._id,item:e})});return c["default"].createElement(_["default"],{title:"Questions",items:r,children:t})}}]),t}(c["default"].Component);t["default"]=(0,s.connect)(function(e){return{isFetching:e.questions.isFetching,items:e.questions.items}})(v)},792:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),c=a(u),s=n(460),d=n(482),f=a(d),_=n(775),m=a(_),p=n(777),E=n(666),h=n(590),v=n(761),y=function(e){function t(e){r(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.markSeen=n.markSeen.bind(n),n["delete"]=n["delete"].bind(n),n}return l(t,e),o(t,[{key:"markSeen",value:function(){var e=this.props,t=e.dispatch,n=e.item,a={isSeen:!n.data.isSeen};t((0,v.updateQuestion)(n.data._id,a))}},{key:"delete",value:function(){var e=this.props,t=e.dispatch,n=e.item;t((0,v.deleteQuestion)(n.data._id))}},{key:"render",value:function(){var e=this.props.item;return c["default"].createElement(p.DirectoryItem,{draft:!e.data.isSeen},c["default"].createElement(E.Block,{n:.5},c["default"].createElement(E.Flex,{justifyContent:"space-between",alignItems:"center"},c["default"].createElement(E.ListInline,null,c["default"].createElement(E.ListInlineItem,null,c["default"].createElement(m["default"],{label:e.data.isSeen?"Seen":"New",theme:e.data.isSeen?"default":"accent2"})),c["default"].createElement(E.ListInlineItem,null,c["default"].createElement(p.DirectoryItemInfo,null,"Posted by ",e.data.posterName," (",e.data.posterEmail,") on ",c["default"].createElement(f["default"],{value:e.data.createdAt,format:"MMMM Do YYYY (h:mm a)"})))),c["default"].createElement(E.ListInline,null,e.data.isSeen?"":c["default"].createElement(E.ListInlineItem,null,c["default"].createElement(h.Button,{small:!0,disabled:e.isUpdating,theme:"accent1",href:"mailto:"+e.data.posterEmail+"?subject=Reply to your questions on antivax&body=Reply to your question:\n "+e.data.question},"respond via email")),c["default"].createElement(E.ListInlineItem,null,c["default"].createElement(h.Button,{small:!0,disabled:e.isUpdating,inverse:!0,theme:"accent1",onClick:this.markSeen},e.data.isSeen?"mark as new":"mark as seen")),c["default"].createElement(E.ListInlineItem,null,c["default"].createElement(h.Button,{small:!0,disabled:e.isUpdating||e.data.isPublished,inverse:!0,theme:"error",onClick:this["delete"]},"Delete"))))),c["default"].createElement(p.DirectoryItemTitle,null,e.data.question))}}]),t}(c["default"].Component);t["default"]=(0,s.connect)()(y)},793:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(299),f=a(d),_=n(460),m=n(794),p=a(m),E=n(781),h=n(590),v=n(666),y=n(767),b=n(763),g=n(744),I=a(g),S=n(772),C=a(S),T=function(e){function t(e){l(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.discard=n.discard.bind(n),n.changeItem=n.changeItem.bind(n),n.insertItem=n.insertItem.bind(n),n.state={isDirty:!1,items:n.props.items},n}return u(t,e),s(t,[{key:"componentWillMount",value:function(){var e=this.props.fetchData;e()}},{key:"componentWillReceiveProps",value:function(e){var t=e.items,n=e.isFetchingVaccines,a=e.isFetchingSchedule,r=e.isUpdating;if(!r&&!n&&!a){var i={isDirty:!1,items:t};this.setState(i)}}},{key:"discard",value:function(){var e=this.props.items;this.setState({isDirty:!1,items:e})}},{key:"changeItem",value:function(e,t,n){var a=this.state.items[n];this.setState({isDirty:!0,items:[].concat(i(this.state.items.slice(0,n)),[c({},a,r({},e,t))],i(this.state.items.slice(n+1)))})}},{key:"insertItem",value:function(){var e=this.props.vaccines;this.setState({isDirty:!0,items:[].concat(i(this.state.items),[{age:"",vaccines:[{url:e[0].data.url,title:e[0].data.title}],isDeleted:!1}])})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isFetchingVaccines,a=t.isFetchingSchedule,r=t.isUpdating,i=t.vaccines,l=t.save;if(n||a)return f["default"].createElement(I["default"],null);var o=this.state.items.map(function(t,n){return f["default"].createElement(v.ListItem,{n:2,key:n},f["default"].createElement(p["default"],{item:t,vaccines:i,isUpdating:r,onChange:function(t,a){return e.changeItem(t,a,n)}}))}),u="";return u=this.state.isDirty?f["default"].createElement(v.Flex,{justifyContent:"space-between"},f["default"].createElement(C["default"],{label:"Unsaved Changes",theme:"error"}),f["default"].createElement(v.ListInline,null,f["default"].createElement(v.ListInlineItem,null,f["default"].createElement(h.Button,{theme:"accent1",disabled:r,onClick:function(){return l({items:e.state.items})}},"Save")),f["default"].createElement(v.ListInlineItem,null,f["default"].createElement(h.Button,{inverse:!0,theme:"accent1",disabled:r,onClick:this.discard},"Discard")))):f["default"].createElement(C["default"],{label:"All Saved",theme:"success"}),f["default"].createElement(E.ItemForm,null,f["default"].createElement(E.ItemFormHeader,null,u),f["default"].createElement(E.ItemFormBody,null,f["default"].createElement(v.Block,{n:3},f["default"].createElement(v.List,{n:2},o),f["default"].createElement(h.Button,{small:!0,inverse:!0,disabled:r,theme:"accent1",onClick:function(){return e.insertItem()}},"Insert new item"))))}}]),t}(f["default"].Component);t["default"]=(0,_.connect)(function(e){return{isFetchingVaccines:e.articles.isFetching,isFetchingSchedule:e.schedule.isFetching,vaccines:e.articles.items.filter(function(e){return"vaccines"===e.data.type.id}),isUpdating:e.schedule.isUpdating,items:e.schedule.items.map(function(e){return c({},e)})}},function(e){return{save:function(t){e((0,y.updateSchedule)(t))},fetchData:function(){e((0,b.fetchArticles)()),e((0,y.fetchSchedule)())}}})(T)},794:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(299),s=a(c),d=n(795),f=a(d),_=n(590),m=n(666),p=function(e){function t(e){i(this,t);var n=l(this,Object.getPrototypeOf(t).call(this,e));return n.addVaccine=n.addVaccine.bind(n),n.changeVaccine=n.changeVaccine.bind(n),n.deleteVaccine=n.deleteVaccine.bind(n),n}return o(t,e),u(t,[{key:"addVaccine",value:function(){var e=this.props,t=e.item,n=e.vaccines,a=e.onChange,i=[].concat(r(t.vaccines),[{title:n.length>0?n[0].data.title:"",url:n.length>0?n[0].data.url:""}]);a("vaccines",i)}},{key:"changeVaccine",value:function(e,t){var n=this.props,a=n.item,i=n.vaccines,l=n.onChange,o=i.filter(function(e){return e.data.url===t})[0],u=[].concat(r(a.vaccines.slice(0,e)),[{title:o.data.title,url:o.data.url}],r(a.vaccines.slice(e+1)));l("vaccines",u)}},{key:"deleteVaccine",value:function(e){var t=this.props,n=t.item,a=t.onChange,i=[].concat(r(n.vaccines.slice(0,e)),r(n.vaccines.slice(e+1)));a("vaccines",i)}},{key:"render",value:function(){var e=this,t=this.props,n=t.item,a=t.vaccines,r=t.isUpdating,i=t.onChange,l=n.vaccines.map(function(t,i){return s["default"].createElement(m.Block,{key:i},s["default"].createElement(m.ListInline,null,s["default"].createElement(m.ListInlineItem,null,s["default"].createElement(_.Select,{label:"Vaccine:",labelParams:{width:0,padding:2},value:t.url,disabled:r||n.isDeleted,allowEmpty:!1,options:a.map(function(e){return{id:e.data.url,label:e.data.title}}),onChange:function(t){return e.changeVaccine(i,t)}})),s["default"].createElement(m.ListInlineItem,null,s["default"].createElement(_.LinkButton,{small:!0,theme:"error",disabled:r||n.isDeleted,onClick:function(){return e.deleteVaccine(i)}},"Delete"))))});return s["default"].createElement("div",{className:f["default"].Item+" "+(n.isDeleted?f["default"].Item_deleted:"")},s["default"].createElement(m.Media,null,s["default"].createElement(m.MediaBody,null,s["default"].createElement("div",{className:f["default"].Item__body},s["default"].createElement(m.Media,null,s["default"].createElement(m.MediaFigure,{n:2},s["default"].createElement(_.Input,{label:"Age:",labelParams:{width:0,padding:2},value:n.age,disabled:r||n.isDeleted,onChange:function(e){return i("age",e)}})),s["default"].createElement(m.MediaBody,null,l,s["default"].createElement(_.LinkButton,{small:!0,disabled:r||n.isDeleted,onClick:this.addVaccine},"Add vaccine"))))),s["default"].createElement(m.MediaFigure,{n:0,nl:2},s["default"].createElement(m.ListInline,null,n.isDeleted?s["default"].createElement(m.ListInlineItem,null,s["default"].createElement("div",{className:f["default"].Item__deletedInfo},"will be deleted on save")):null,s["default"].createElement(m.ListInlineItem,null,s["default"].createElement(_.Button,{small:!0,inverse:!0,theme:n.isDeleted?"accent1":"error",onClick:function(){return i("isDeleted",!n.isDeleted)}},n.isDeleted?"Put Back":"Delete"))))))}}]),t}(s["default"].Component);t["default"]=p},795:function(e,t){e.exports={Item:"ScheduleBuilderItem__Item___1E_ei",Item__deletedInfo:"ScheduleBuilderItem__Item__deletedInfo___4SrnY",Item_deleted:"ScheduleBuilderItem__Item_deleted___3LLpX",Item__body:"ScheduleBuilderItem__Item__body___3DBu2"}}});
//# sourceMappingURL=index.js.map