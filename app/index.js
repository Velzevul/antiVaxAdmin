webpackJsonp([0,2],{0:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}n(1);var r=n(299),i=a(r),o=n(327),l=a(o),u=n(459),s=n(481),c=n(534),d=a(c),f=n(636),_=a(f),m=n(760),p=a(m),E=n(762),h=a(E),v=n(766),b=a(v),y=n(768),g=a(y),I=n(770),T=a(I),S=n(773),C=a(S),O=n(779),w=a(O),R=n(782),U=a(R),M=n(783),N=a(M),k=n(791),A=a(k),L=n(792),P=a(L),j=n(796),x=a(j);n(798);var D=n(799),F=a(D),B=(0,F["default"])(),Q=function(){return i["default"].createElement("div",null)};l["default"].render(i["default"].createElement(u.Provider,{store:B},i["default"].createElement(s.Router,{history:s.browserHistory},i["default"].createElement(s.Route,{path:"/",component:d["default"]},i["default"].createElement(s.IndexRedirect,{to:"questions"}),i["default"].createElement(s.Route,{path:"questions",component:_["default"]},i["default"].createElement(s.Route,{path:":questionId",component:p["default"]})),i["default"].createElement(s.Route,{path:"users",component:h["default"]},i["default"].createElement(s.Route,{path:"new",component:g["default"]}),i["default"].createElement(s.Route,{path:":userId",component:b["default"]})),i["default"].createElement(s.Route,{path:"search-index",component:x["default"]}),i["default"].createElement(s.Route,{path:":metaSectionUrl",component:T["default"]},i["default"].createElement(s.Route,{component:C["default"]},i["default"].createElement(s.IndexRoute,{component:Q}),i["default"].createElement(s.Route,{path:"new",component:w["default"]}),i["default"].createElement(s.Route,{path:":sectionId/edit",component:U["default"]})),i["default"].createElement(s.Route,{path:":sectionId",component:N["default"]},i["default"].createElement(s.Route,{path:"articles/new",component:A["default"]}),i["default"].createElement(s.Route,{path:"articles/:articleId",component:P["default"]})))))),document.getElementById("app"))},534:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),s=a(u),c=n(459),d=n(535),f=a(d),_=n(623),m=a(_),p=n(625),E=a(p),h=n(629),v=a(h),b=n(626),y=n(635),g=a(y),I=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),l(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("antiVax_auth_token");e&&this.props.attemptToken(e)}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.children,a=e.attemptingLogin;return a?s["default"].createElement(m["default"],null):t?s["default"].createElement("div",{className:g["default"].App},s["default"].createElement(v["default"],null),n,s["default"].createElement(f["default"],null)):s["default"].createElement("div",null,s["default"].createElement(E["default"],null),s["default"].createElement(f["default"],null))}}]),t}(s["default"].Component);t["default"]=(0,c.connect)(function(e){return{attemptingLogin:e.auth.isFetching,user:e.auth.user,searchIndex:{isFetching:e.searchIndex.isFetching,isUpdating:e.searchIndex.isUpdating,lastUpdatedOn:e.searchIndex.lastUpdatedOn,lastUpdatedBy:e.searchIndex.lastUpdatedBy}}},function(e){return{attemptToken:function(t){e((0,b.loginWithToken)(t))}}})(I)},535:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(459),l=n(536),u=function(e){var t=e.message,n=e.type;return i["default"].createElement(l.Alert,{message:t,type:n})};t["default"]=(0,o.connect)(function(e){return{message:e.flash.message,type:e.flash.type}})(u)},536:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Select=t.Editor=t.Checkbox=t.Input=t.ModalWindowFooter=t.ModalWindowBody=t.ModalWindowHeader=t.ModalWindow=t.Alert=t.LinkButton=t.IconButton=t.Button=t.Spinner=void 0;var r=n(537),i=a(r),o=n(539),l=a(o),u=n(541),s=a(u),c=n(543),d=a(c),f=n(545),_=a(f),m=n(547),p=a(m),E=n(549),h=a(E),v=n(551),b=a(v),y=n(619),g=a(y),I=n(621);t.Spinner=i["default"],t.Button=l["default"],t.IconButton=s["default"],t.LinkButton=d["default"],t.Alert=_["default"],t.ModalWindow=I.ModalWindow,t.ModalWindowHeader=I.ModalWindowHeader,t.ModalWindowBody=I.ModalWindowBody,t.ModalWindowFooter=I.ModalWindowFooter,t.Input=p["default"],t.Checkbox=h["default"],t.Editor=b["default"],t.Select=g["default"]},537:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(538),l=a(o),u=.75,s=function(e){var t=e.multipliers,n=void 0===t?{minHeight:30,__inner:{width:5,height:5}}:t,a={minHeight:u*n.minHeight+"rem"},r={width:u*n.__inner.width+"rem",height:u*n.__inner.height+"rem"};return i["default"].createElement("div",{style:a,className:l["default"].Spinner},i["default"].createElement("div",{style:r,className:l["default"].Spinner__inner},i["default"].createElement("div",{className:l["default"].Spinner__circle+" "+l["default"].Spinner__circle1}),i["default"].createElement("div",{className:l["default"].Spinner__circle+" "+l["default"].Spinner__circle2}),i["default"].createElement("div",{className:l["default"].Spinner__circle+" "+l["default"].Spinner__circle3}),i["default"].createElement("div",{className:l["default"].Spinner__circle+" "+l["default"].Spinner__circle4}),i["default"].createElement("div",{className:l["default"].Spinner__circle+" "+l["default"].Spinner__circle5}),i["default"].createElement("div",{className:l["default"].Spinner__circle+" "+l["default"].Spinner__circle6}),i["default"].createElement("div",{className:l["default"].Spinner__circle+" "+l["default"].Spinner__circle7}),i["default"].createElement("div",{className:l["default"].Spinner__circle+" "+l["default"].Spinner__circle8}),i["default"].createElement("div",{className:l["default"].Spinner__circle+" "+l["default"].Spinner__circle9}),i["default"].createElement("div",{className:l["default"].Spinner__circle+" "+l["default"].Spinner__circle10}),i["default"].createElement("div",{className:l["default"].Spinner__circle+" "+l["default"].Spinner__circle11}),i["default"].createElement("div",{className:l["default"].Spinner__circle+" "+l["default"].Spinner__circle12})))};t["default"]=s},538:function(e,t){e.exports={Spinner:"Spinner__Spinner___1fiyk",Spinner__inner:"Spinner__Spinner__inner___58vcT",Spinner__circle:"Spinner__Spinner__circle___2ZugO","sk-circleFadeDelay":"Spinner__sk-circleFadeDelay___1Etn8",Spinner__circle1:"Spinner__Spinner__circle1___BOD7n",Spinner__circle2:"Spinner__Spinner__circle2___2aBtr",Spinner__circle3:"Spinner__Spinner__circle3___1BaZf",Spinner__circle4:"Spinner__Spinner__circle4___3V5r7",Spinner__circle5:"Spinner__Spinner__circle5___3DJ5X",Spinner__circle6:"Spinner__Spinner__circle6___ZpU5m",Spinner__circle7:"Spinner__Spinner__circle7___XpnK5",Spinner__circle8:"Spinner__Spinner__circle8___1_RRX",Spinner__circle9:"Spinner__Spinner__circle9___fO0OG",Spinner__circle10:"Spinner__Spinner__circle10___ni35A",Spinner__circle11:"Spinner__Spinner__circle11___1hav9",Spinner__circle12:"Spinner__Spinner__circle12___2ipzT"}},539:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(481),l=n(540),u=a(l),s=function(e){var t=e.children,n=e.onClick,a=e.disabled,r=void 0!==a&&a,l=e.to,s=void 0===l?null:l,c=e.href,d=void 0===c?null:c,f=e.color,_=void 0===f?"blue":f,m=[u["default"].Button];switch(_){case"red":m.push(u["default"].Button_red);break;case"green":m.push(u["default"].Button_green);break;case"blue":default:m.push(u["default"].Button_blue)}return s?i["default"].createElement(o.Link,{disabled:r,className:m.join(" "),to:s},t):d?i["default"].createElement("a",{disabled:r,className:m.join(" "),href:d},t):i["default"].createElement("button",{disabled:r,className:m.join(" "),onClick:n},t)};t["default"]=s},540:function(e,t){e.exports={Button:"Button__Button___QI7b2",Button_blue:"Button__Button_blue___y-ov2",Button_red:"Button__Button_red___AvQYs",Button_green:"Button__Button_green___y_fe2"}},541:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(481),l=n(542),u=a(l),s=function(e){var t=e.type,n=e.onClick,a=e.disabled,r=void 0!==a&&a,l=e.to,s=void 0===l?null:l,c=e.href,d=void 0===c?null:c,f=[u["default"].IconButton];switch(t){case"delete":f.push(u["default"].IconButton_delete);break;case"close":f.push(u["default"].IconButton_close)}return s?i["default"].createElement(o.Link,{disabled:r,className:f.join(" "),to:s}):d?i["default"].createElement("a",{disabled:r,className:f.join(" "),href:d}):i["default"].createElement("button",{disabled:r,className:f.join(" "),onClick:n})};t["default"]=s},542:function(e,t){e.exports={IconButton:"IconButton__IconButton___GdV7i",IconButton_delete:"IconButton__IconButton_delete___gnNYO",IconButton_close:"IconButton__IconButton_close___29_Ga"}},543:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(481),l=n(544),u=a(l),s=function(e){var t=e.children,n=e.onClick,a=e.disabled,r=void 0!==a&&a,l=e.to,s=void 0===l?null:l,c=e.href,d=void 0===c?null:c,f=e.color,_=void 0===f?"blue":f,m=[u["default"].LinkButton];switch(_){case"red":m.push(u["default"].LinkButton_red);break;case"green":m.push(u["default"].LinkButton_green);break;case"blue":default:m.push(u["default"].LinkButton_blue)}return s?i["default"].createElement(o.Link,{disabled:r,className:m.join(" "),to:s},t):d?i["default"].createElement("a",{disabled:r,className:m.join(" "),href:d},t):i["default"].createElement("button",{disabled:r,className:m.join(" "),onClick:n},t)};t["default"]=s},544:function(e,t){e.exports={LinkButton:"LinkButton__LinkButton___2Flim",LinkButton_blue:"LinkButton__LinkButton_blue___1W7sl",LinkButton_red:"LinkButton__LinkButton_red___3LuGc",LinkButton_green:"LinkButton__LinkButton_green___3uvrb"}},545:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(546),l=a(o),u=function(e){var t=e.message,n=e.type,a=void 0===n?"log":n,r=[l["default"].Alert__message];switch(a){case"error":r.push(l["default"].Alert__message_error);break;case"log":default:r.push(l["default"].Alert__message_log)}return i["default"].createElement("div",{className:l["default"].Alert},t?i["default"].createElement("div",{className:r.join(" ")},t):"")};t["default"]=u},546:function(e,t){e.exports={Alert:"Alert__Alert___37_QC",Alert__message:"Alert__Alert__message___2wCZF",Alert__message_log:"Alert__Alert__message_log___2n5DH",Alert__message_error:"Alert__Alert__message_error___2id4W"}},547:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),s=a(u),c=n(548),d=a(c),f=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.onChange,r=t.label,i=void 0===r?null:r,o=t.labelWidth,l=void 0===o?8:o,u=t.placeholder,c=void 0===u?"":u,f=t.type,_=void 0===f?"text":f,m=t.disabled,p=void 0!==m&&m,E=t.error,h=void 0===E?null:E,v="";return h&&(v=s["default"].createElement("div",{className:d["default"].Input__error},h)),s["default"].createElement("label",{className:d["default"].Input+" "+(h?d["default"].Input_error:"")},i?s["default"].createElement("div",{style:{width:l+"rem"},className:d["default"].Input__label},i):"",s["default"].createElement("input",{className:d["default"].Input__input,type:_,ref:function(t){e._element=t},value:n,disabled:p,placeholder:c,onChange:function(){return a(e._element.value)}}),v)}}]),t}(s["default"].Component);t["default"]=f},548:function(e,t){e.exports={Input:"Input__Input___s67N0",Input__label:"Input__Input__label___9JDUu",Input__input:"Input__Input__input___wb1PD",Input__error:"Input__Input__error___fgkCD",Input_error:"Input__Input_error___2JYGy"}},549:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),s=a(u),c=n(550),d=a(c),f=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.checked,a=t.onChange,r=t.label,i=t.labelWidth,o=void 0===i?8:i,l=t.disabled,u=void 0!==l&&l;return s["default"].createElement("label",{className:d["default"].Checkbox},r?s["default"].createElement("div",{style:{width:o+"rem"},className:d["default"].Checkbox__label},r):"",s["default"].createElement("input",{className:d["default"].Checkbox__input,type:"checkbox",ref:function(t){e._element=t},checked:n,disabled:u,onChange:function(){return a(e._element.checked)}}))}}]),t}(s["default"].Component);t["default"]=f},550:function(e,t){e.exports={Checkbox:"Checkbox__Checkbox___1JYQg",Checkbox__label:"Checkbox__Checkbox__label___3OBUd",Checkbox__input:"Checkbox__Checkbox__input___1nDMV"}},551:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),s=a(u),c=n(327),d=n(552),f=a(d),_=n(598),m=a(_),p=n(599),E=a(p),h=n(600),v=a(h),b=n(605),y=a(b),g=n(606),I=n(618),T=a(I),S=function(e){function t(e){r(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={value:n.props.value},n}return o(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=(0,c.findDOMNode)(this.refs.editor),n=(0,c.findDOMNode)(this.refs.toolbar),a=new f["default"](t);a.use((0,E["default"])(1)),a.use((0,E["default"])(2)),a.use((0,v["default"])()),a.use((0,y["default"])()),a.use((0,m["default"])(n)),a.setContent(this.state.value),setTimeout(function(){a.on("content-changed",function(){e.setState({value:a.getHTML()}),e.props.onChange(a.getHTML())})}),this.scribe=a}},{key:"componentWillReceiveProps",value:function(e){e.value!==this.state.value&&(this.scribe.setContent(e.value),this.setState({value:e.value}))}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.label;return s["default"].createElement("div",{className:T["default"].Editor+" "+(t?T["default"].Editor_error:"")},s["default"].createElement("div",{className:""+T["default"].Editor__label},n),s["default"].createElement("div",{className:T["default"].Editor__body},s["default"].createElement("div",{className:T["default"].Editor__toolbar,ref:"toolbar"},s["default"].createElement(g.Flex,null,s["default"].createElement("button",{className:T["default"].Editor__command+" "+T["default"].Editor__command_h1,"data-command-name":"h1"},"Heading 1"),s["default"].createElement("button",{className:T["default"].Editor__command+" "+T["default"].Editor__command_h2,"data-command-name":"h2"},"Heading 1"),s["default"].createElement("div",{className:T["default"].Editor__separator}),s["default"].createElement("button",{className:T["default"].Editor__command+" "+T["default"].Editor__command_bold,"data-command-name":"bold"},"bold"),s["default"].createElement("button",{className:T["default"].Editor__command+" "+T["default"].Editor__command_italic,"data-command-name":"italic"},"italic"),s["default"].createElement("button",{className:T["default"].Editor__command+" "+T["default"].Editor__command_ol,"data-command-name":"insertOrderedList"},"Ol"),s["default"].createElement("button",{className:T["default"].Editor__command+" "+T["default"].Editor__command_ul,"data-command-name":"insertUnOrderedList"},"Ul"),s["default"].createElement("div",{className:T["default"].Editor__separator}),s["default"].createElement("button",{className:T["default"].Editor__command+" "+T["default"].Editor__command_link,"data-command-name":"linkPrompt"},"Link"),s["default"].createElement("button",{className:T["default"].Editor__command+" "+T["default"].Editor__command_unlink,"data-command-name":"unlink"},"Unlink"))),s["default"].createElement("div",{className:T["default"].Editor__editor,ref:"editor"}),s["default"].createElement("div",{className:T["default"].Editor__error},t)))}}]),t}(s["default"].Component);t["default"]=S},606:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PageContent=t.Page=t.MediaFigure=t.MediaBody=t.Media=t.ListInlineItem=t.ListInline=t.ListItem=t.List=t.GridItem=t.Grid=t.Wrap=t.Flex=t.Block=void 0;var r=n(607),i=a(r),o=n(608),l=a(o),u=n(609),s=a(u),c=n(610),d=n(611),f=n(613),_=n(615),m=n(617);t.Block=i["default"],t.Flex=l["default"],t.Wrap=s["default"],t.Grid=c.Grid,t.GridItem=c.GridItem,t.List=d.List,t.ListItem=d.ListItem,t.ListInline=f.ListInline,t.ListInlineItem=f.ListInlineItem,t.Media=_.Media,t.MediaBody=_.MediaBody,t.MediaFigure=_.MediaFigure,t.Page=m.Page,t.PageContent=m.PageContent},607:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=.75,l=function(e){var t=e.n,n=void 0===t?1:t,a=e.extraClassNames,r=void 0===a?"":a,l=e.children,u={marginBottom:o*n+"rem"};return i["default"].createElement("div",{style:u,className:r},l)};t["default"]=l},608:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=function(e){var t=e.justifyContent,n=void 0===t?"flex-start":t,a=e.alignItems,r=void 0===a?"center":a,o=e.extraClassNames,l=void 0===o?"":o,u=e.flexDirection,s=void 0===u?"row":u,c=e.children,d={flexDirection:s,alignItems:r,justifyContent:n,display:"flex",width:"100%",height:"100%"};return i["default"].createElement("div",{style:d,className:l},c)};t["default"]=o},609:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=function(e){var t=e.width,n=void 0===t?"90%":t,a=e.maxWidth,r=void 0===a?"80rem":a,o=e.extraClassNames,l=void 0===o?"":o,u=e.children,s={width:n,maxWidth:r,marginLeft:"auto",marginRight:"auto"};return i["default"].createElement("div",{style:s,className:l},u)};t["default"]=o},610:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GridItem=t.Grid=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(299),o=a(i),l=.75,u=function(e){var t=e.gutter,n=void 0===t?0:t,a=e.alignItems,r=void 0===a?"stretch":a,i=e.justifyContent,u=void 0===i?"flex-start":i,s=e.extraClassNames,c=void 0===s?"":s,d=e.children,f={height:"100%",display:"flex",alignItems:r,justifyContent:u,marginLeft:"-"+l*n/2+"rem",marginRight:"-"+l*n/2+"rem"};return o["default"].createElement("div",{style:f,className:c},d)},s=function(e){var t=e.span,n=void 0===t?0:t,a=e.outOf,i=void 0===a?12:a,u=e.gutter,s=void 0===u?0:u,c=e.extraClassNames,d=void 0===c?"":c,f=e.children,_={paddingLeft:l*s/2+"rem",paddingRight:l*s/2+"rem",flex:"1"};return n&&i&&(_=r({},_,{flex:"0 0 auto",width:100*n/i+"%"})),o["default"].createElement("div",{style:_,className:d},f)};t.Grid=u,t.GridItem=s},611:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ListItem=t.List=void 0;var r=n(299),i=a(r),o=n(612),l=a(o),u=.75,s=function(e){var t=e.n,n=void 0===t?1:t,a=e.extraClassNames,r=void 0===a?"":a,o=e.children,s={marginBottom:"-"+u*n+"rem"};return i["default"].createElement("ul",{style:s,className:l["default"].list+" "+r},o)},c=function(e){var t=e.n,n=void 0===t?1:t,a=e.extraClassNames,r=void 0===a?"":a,o=e.children,s={marginBottom:u*n+"rem"};return i["default"].createElement("li",{style:s,className:l["default"].list__item+" "+r},o)};t.List=s,t.ListItem=c},612:function(e,t){e.exports={list:"List__list___2kBUd",list__item:"List__list__item___1D2VF"}},613:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ListInlineItem=t.ListInline=void 0;var r=n(299),i=a(r),o=n(614),l=a(o),u=.75,s=function(e){var t=e.n,n=void 0===t?1:t,a=e.extraClassNames,r=void 0===a?"":a,o=e.children,s=e.alignItems,c=void 0===s?"center":s,d=e.justfyContent,f=void 0===d?"flex-start":d,_={marginBottom:"-"+u*n+"rem",marginLeft:"-"+u*n+"rem",alignItems:c,justfyContent:f};return i["default"].createElement("ul",{style:_,className:l["default"].listInline+" "+r},o)},c=function(e){var t=e.n,n=void 0===t?1:t,a=e.extraClassNames,r=void 0===a?"":a,o=e.children,s={marginBottom:u*n+"rem",marginLeft:u*n+"rem"};return i["default"].createElement("li",{style:s,className:l["default"].listInline__item+" "+r},o)};t.ListInline=s,t.ListInlineItem=c},614:function(e,t){e.exports={listInline:"ListInline__listInline___3Gjhu",listInline__item:"ListInline__listInline__item___2K1kQ"}},615:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MediaFigure=t.MediaBody=t.Media=void 0;var r=n(299),i=a(r),o=n(616),l=a(o),u=.75,s=function(e){var t=e.alignItems,n=void 0===t?"flex-start":t,a=e.extraClassNames,r=void 0===a?"":a,o=e.children,u={alignItems:n};return i["default"].createElement("div",{style:u,className:l["default"].media+" "+r},o)},c=function(e){var t=e.extraClassNames,n=void 0===t?"":t,a=e.children;return i["default"].createElement("div",{className:l["default"].media__body+" "+n},a)},d=function(e){var t=e.n,n=void 0===t?1:t,a=e.nl,r=void 0===a?0:a,o=e.extraClassNames,s=void 0===o?"":o,c=e.children,d={marginRight:u*n+"rem",marginLeft:u*r+"rem"};return i["default"].createElement("div",{style:d,className:l["default"].media__figure+" "+s},c)};t.Media=s,t.MediaBody=c,t.MediaFigure=d},616:function(e,t){e.exports={media:"Media__media___3a00G",media__figure:"Media__media__figure___24ZwA",media__body:"Media__media__body___3Vd2-"}},617:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PageContent=t.Page=void 0;var r=n(299),i=a(r),o=function(e){var t=e.children,n={display:"flex",minHeight:"100vh",flexDirection:"column"};return i["default"].createElement("div",{style:n},t)},l=function(e){var t=e.children,n={flex:"1"};return i["default"].createElement("main",{style:n},t)};t.Page=o,t.PageContent=l},618:function(e,t){e.exports={Editor:"Editor__Editor___3mG0x",Editor__label:"Editor__Editor__label___1hd-U",Editor__body:"Editor__Editor__body___3FufQ",Editor__toolbar:"Editor__Editor__toolbar___2cbgU",Editor__command:"Editor__Editor__command___15KXk",Editor__command_h1:"Editor__Editor__command_h1___2avrE",Editor__command_h2:"Editor__Editor__command_h2___5j-Nt",Editor__command_h3:"Editor__Editor__command_h3___2tAjL",Editor__command_bold:"Editor__Editor__command_bold___3YdJ3",Editor__command_italic:"Editor__Editor__command_italic___1UZA0",Editor__command_ol:"Editor__Editor__command_ol___2RQbn",Editor__command_ul:"Editor__Editor__command_ul___cs9Vd",Editor__command_link:"Editor__Editor__command_link___1_DRv",Editor__command_unlink:"Editor__Editor__command_unlink___3Dw7t",Editor__separator:"Editor__Editor__separator___bf0pe",Editor__editor:"Editor__Editor__editor___1_SxC",Editor__error:"Editor__Editor__error___1nMXd",Editor_error:"Editor__Editor_error___1G66C"}},619:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),s=a(u),c=n(620),d=a(c),f=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.options,a=t.onChange,r=t.value,i=t.label,o=t.labelWidth,l=void 0===o?8:o,u=t.disabled,c=n.find(function(e){return e.id===r}),f=c?c.label:"None";return s["default"].createElement("div",{className:d["default"].Select},i?s["default"].createElement("div",{style:{width:l+"rem"},className:""+d["default"].Select__label},i):"",s["default"].createElement("div",{className:d["default"].Select__wrap},s["default"].createElement("div",{className:d["default"].Select__fake},f),s["default"].createElement("select",{className:d["default"].Select__input,ref:function(t){e._element=t},value:r,disabled:u,onChange:function(e){return a(e.target.value)}},n.map(function(e,t){return s["default"].createElement("option",{key:t,value:e.id},e.label)}))))}}]),t}(s["default"].Component);t["default"]=f},620:function(e,t){e.exports={Select:"Select__Select___1rPbL",Select__label:"Select__Select__label___1GWvW",Select__wrap:"Select__Select__wrap___wvRax",Select__fake:"Select__Select__fake___3wkdd",Select__input:"Select__Select__input___r7ey7"}},621:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModalWindowFooter=t.ModalWindowHeader=t.ModalWindowBody=t.ModalWindow=void 0;var r=n(299),i=a(r),o=n(622),l=a(o),u=n(606),s=.75,c=function(e){var t=e.children,n=e.multipliers,a=void 0===n?{width:40}:n,r={width:a.width*s+"rem"};return i["default"].createElement("div",{className:l["default"].Modal},i["default"].createElement(u.Flex,{alignItems:"center",justifyContent:"center"},i["default"].createElement("section",{style:r,className:l["default"].ModalWindow},t)))},d=function(e){var t=e.children,n=e.multipliers,a=void 0===n?{padding:{vertical:2,horizontal:2}}:n,r={padding:a.padding.vertical*s+"rem "+a.padding.horizontal*s+"rem"};return i["default"].createElement("header",{style:r,className:l["default"].ModalWindow__header},t)},f=function(e){var t=e.children,n=e.multipliers,a=void 0===n?{padding:{vertical:3,horizontal:2}}:n,r={padding:a.padding.vertical*s+"rem "+a.padding.horizontal*s+"rem"};return i["default"].createElement("main",{style:r,className:l["default"].ModalWindow__body},t)},_=function(e){var t=e.children,n=e.multipliers,a=void 0===n?{padding:{vertical:1,horizontal:2}}:n,r={padding:a.padding.vertical*s+"rem "+a.padding.horizontal*s+"rem"};return i["default"].createElement("footer",{style:r,className:l["default"].ModalWindow__footer},t)};t.ModalWindow=c,t.ModalWindowBody=f,t.ModalWindowHeader=d,t.ModalWindowFooter=_},622:function(e,t){e.exports={Modal:"ModalWindow__Modal___2klcg",ModalWindow:"ModalWindow__ModalWindow___2tVyZ",ModalWindow__header:"ModalWindow__ModalWindow__header___1QrWH",ModalWindow__body:"ModalWindow__ModalWindow__body___3QuQh",ModalWindow__footer:"ModalWindow__ModalWindow__footer___2I0TF"}},623:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(624),l=a(o),u=n(536),s=function(){return i["default"].createElement("div",{className:l["default"].Loading},i["default"].createElement(u.Spinner,null))};t["default"]=s},624:function(e,t){e.exports={Loading:"Loading__Loading___3pycz"}},625:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),
a&&e(t,a),t}}(),u=n(299),s=a(u),c=n(459),d=n(606),f=n(536),_=n(626),m=function(e){function t(e){r(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.submitForm=n.submitForm.bind(n),n.changeEmail=n.changeEmail.bind(n),n.changePassword=n.changePassword.bind(n),n.state={emailError:"",passwordError:"",email:"",password:""},n}return o(t,e),l(t,[{key:"submitForm",value:function(e){e.preventDefault();var t="",n="",a=this.props.dispatch;""===this.state.email&&(t="email cannot be empty"),""===this.state.password&&(n="password cannot be blank"),t||n?this.setState({emailError:t,passwordError:n}):a((0,_.loginWithCredentials)(this.state.email,this.state.password))}},{key:"changeEmail",value:function(e){this.setState({email:e,emailError:""})}},{key:"changePassword",value:function(e){this.setState({password:e,passwordError:""})}},{key:"render",value:function(){var e=this.props.isFetching;return s["default"].createElement(f.ModalWindow,null,s["default"].createElement("form",{onSubmit:this.submitForm},s["default"].createElement(f.ModalWindowHeader,null,s["default"].createElement(d.Flex,{justifyContent:"center"},"Login")),s["default"].createElement(f.ModalWindowBody,null,s["default"].createElement(d.List,{n:1.5},s["default"].createElement(d.ListItem,{n:1.5},s["default"].createElement(f.Input,{value:this.state.email,label:"Email:",placeholder:"e.g. casey@gmail.com",error:this.state.emailError,onChange:this.changeEmail})),s["default"].createElement(d.ListItem,{n:1.5},s["default"].createElement(f.Input,{value:this.state.password,label:"Password:",placeholder:"e.g. BigSecret",error:this.state.passwordError,onChange:this.changePassword,type:"password"})))),s["default"].createElement(f.ModalWindowFooter,null,s["default"].createElement(f.Button,{disabled:e,label:"Login"},"Login"))))}}]),t}(s["default"].Component);t["default"]=(0,c.connect)(function(e){return{isFetching:e.auth.isFetching}})(m)},626:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loginWithToken=t.loginWithCredentials=t.logOut=t.LOGOUT=t.LOGIN=t.REQUEST_AUTH=void 0,n(627);var a=n(628),r=t.REQUEST_AUTH="REQUEST_AUTH",i=t.LOGIN="LOGIN",o=t.LOGOUT="LOGOUT",l=function(){return{type:r}},u=t.logOut=function(){return function(e){localStorage.removeItem("antiVax_auth_token"),e({type:o})}},s=function(e){return{type:i,user:e}};t.loginWithCredentials=function(e,t){return function(n){n(l()),fetch("https://vdziubak.com/vaccineAnswersServer/auth/admin/authenticate-credentials",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(function(e){return e.json()}).then(function(e){e.success?(localStorage.setItem("antiVax_auth_token",e.data.token),n(s(e.data.user))):(n(u()),n((0,a.flashMessage)(e.data.error,"error")))})}},t.loginWithToken=function(e){return function(t){t(l()),fetch("https://vdziubak.com/vaccineAnswersServer/auth/admin/authenticate-token",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})}).then(function(e){return e.json()}).then(function(e){e.success?(localStorage.setItem("antiVax_auth_token",e.data.token),t(s(e.data.user))):(t(u()),t((0,a.flashMessage)(e.data.error,"error")))})}}},628:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.SET_MESSAGE="SET_MESSAGE",a=t.UNSET_MESSAGE="UNSET_MESSAGE",r=function(e,t,a){return{type:n,message:e,messageType:t,timeoutId:a}},i=function(e,t){return{type:a}};t.flashMessage=function(e,t){return function(n){var a=setTimeout(function(){n(i())},2e3);n(r(e,t,a))}}},629:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(630),l=a(o),u=n(632),s=a(u),c=n(606),d=n(634),f=a(d),_=function(){return i["default"].createElement("div",{className:f["default"].AppHeader},i["default"].createElement(c.ListInline,{n:2},i["default"].createElement(c.ListInlineItem,{n:2},i["default"].createElement("div",{className:f["default"].AppHeader__sitename},"Vaccine Answers Admin")),i["default"].createElement(c.ListInlineItem,{n:2},i["default"].createElement(s["default"],null))),i["default"].createElement(l["default"],null))};t["default"]=_},630:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(459),l=n(626),u=n(628),s=n(606),c=n(536),d=n(631),f=a(d),_=function(e){var t=e.user,n=e.logOut;return t?i["default"].createElement("div",{className:f["default"].UserInfo},i["default"].createElement(s.ListInline,null,i["default"].createElement(s.ListInlineItem,null,i["default"].createElement(s.ListInline,{n:.5},i["default"].createElement(s.ListInlineItem,{n:.5},"Logged in as"),i["default"].createElement(s.ListInlineItem,{n:.5},i["default"].createElement("div",{className:f["default"].UserInfo__username},t.name)))),i["default"].createElement(s.ListInlineItem,null,i["default"].createElement(c.Button,{color:"red",onClick:n},"Log out")))):i["default"].createElement("div",null)};t["default"]=(0,o.connect)(function(e){return{user:e.auth.user}},function(e){return{logOut:function(){e((0,l.logOut)()),e((0,u.flashMessage)("You have been successfully logged out","log"))}}})(_)},631:function(e,t){e.exports={UserInfo:"UserInfo__UserInfo___2SMjJ",UserInfo__username:"UserInfo__UserInfo__username___2zypV"}},632:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(481),l=n(606),u=n(633),s=a(u),c=function(){var e=[{label:"Questions",url:"/questions"},{label:"Main Navigation",url:"/main-nav"},{label:"Other Navigation",url:"/other-nav"},{label:"Users",url:"/users"},{label:"Search Index",url:"/search-index"}];return i["default"].createElement("div",{className:s["default"].Nav},i["default"].createElement(l.ListInline,{n:.5},e.map(function(e){return i["default"].createElement(l.ListInlineItem,{n:.5,key:e.url},i["default"].createElement(o.Link,{className:s["default"].Nav__item,activeClassName:s["default"].Nav__item_active,to:e.url},e.label))})))};t["default"]=c},633:function(e,t){e.exports={Nav:"Nav__Nav___3Pyye",Nav__item:"Nav__Nav__item___5HbuE",Nav__item_active:"Nav__Nav__item_active___2q4tT"}},634:function(e,t){e.exports={AppHeader:"AppHeader__AppHeader___2U4KO",AppHeader__sitename:"AppHeader__AppHeader__sitename___3cf-R"}},635:function(e,t){e.exports={App:"App__App___lBEXI"}},636:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),s=a(u),c=(n(481),n(459)),d=n(637),f=n(623),_=a(f),m=n(638),p=a(m),E=(n(536),n(756)),h=a(E),v=n(758),b=a(v),y=n(745),g=a(y),I=n(747),T=a(I),S=n(749),C=a(S),O=(n(606),function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props.fetchQuestions;e()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.items,a=e.isFetching,r=e.params;return a?s["default"].createElement(_["default"],null):s["default"].createElement(h["default"],{dimmed:r.questionId},s["default"].createElement(b["default"],null,s["default"].createElement(g["default"],{heading:!0},s["default"].createElement(T["default"],{width:"stretch"},s["default"].createElement(C["default"],{heading:!0,title:!0},"Questions")),s["default"].createElement(T["default"],{last:!0,width:"10"},s["default"].createElement(C["default"],{heading:!0},"posted on"))),n.map(function(e,n){return e.data._id===r.questionId?s["default"].createElement("div",{key:n},t):s["default"].createElement(p["default"],{key:n,question:e,disableInteraction:r.questionId})})))}}]),t}(s["default"].Component));t["default"]=(0,c.connect)(function(e){return{items:e.questions.items,isFetching:e.questions.isFetching}},function(e){return{fetchQuestions:function(){e((0,d.fetchQuestions)())}}})(O)},637:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteQuestion=t.updateQuestion=t.fetchQuestions=t.REJECT_DELETE_QUESTION=t.CONFIRM_DELETE_QUESTION=t.REQUEST_DELETE_QUESTION=t.RECEIVE_QUESTION_UPDATE=t.REQUEST_QUESTION_UPDATE=t.RECEIVE_QUESTIONS=t.REQUEST_QUESTIONS=void 0,n(627);var a=n(481),r=n(628),i=n(626),o=t.REQUEST_QUESTIONS="REQUEST_QUESTIONS",l=t.RECEIVE_QUESTIONS="RECEIVE_QUESTIONS",u=t.REQUEST_QUESTION_UPDATE="REQUEST_QUESTION_UPDATE",s=t.RECEIVE_QUESTION_UPDATE="RECEIVE_QUESTION_UPDATE",c=t.REQUEST_DELETE_QUESTION="REQUEST_DELETE_QUESTION",d=t.CONFIRM_DELETE_QUESTION="CONFIRM_DELETE_QUESTION",f=t.REJECT_DELETE_QUESTION="REJECT_DELETE_QUESTION",_=function(){return{type:o}},m=function(e){return{type:l,items:e}},p=(t.fetchQuestions=function(){return function(e,t){e(_()),fetch("https://vdziubak.com/vaccineAnswersServer/questions/",{mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")}}).then(function(t){if(401===t.status)throw e((0,i.logOut)()),e((0,r.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return t}).then(function(e){return e.json()}).then(function(t){t.success?e(m(t.data.questions)):(console.error(t.data),e((0,r.flashMessage)("Oops, something went wrong :()","error")))})}},function(e){return{type:u,id:e}}),E=function(e,t){return{type:s,id:e,updatedQuestion:t}},h=(t.updateQuestion=function(e,t,n){return function(a,o){a(p(e)),fetch("https://vdziubak.com/vaccineAnswersServer/questions/"+e,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")},body:JSON.stringify({question:t})}).then(function(e){if(401===e.status)throw a((0,i.logOut)()),a((0,r.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return e}).then(function(e){return e.json()}).then(function(t){t.success?(a(E(e,t.data.question)),n&&a((0,r.flashMessage)(n,"log"))):(console.error(t.data),a((0,r.flashMessage)("Oops, something went wrong :()","error")))})["catch"](function(e){throw e})}},function(e){return{type:c,id:e}}),v=function(e){return{type:d,id:e}},b=function(e){return{type:f,id:e}};t.deleteQuestion=function(e){return function(t,n){t(h(e)),fetch("https://vdziubak.com/vaccineAnswersServer/questions/"+e,{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")}}).then(function(e){if(401===e.status)throw t((0,i.logOut)()),t((0,r.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return e}).then(function(e){return e.json()}).then(function(n){n.success?(a.browserHistory.push("/questions/"),t(v(e)),t((0,r.flashMessage)("Question was deleted","log"))):(t(b(e)),console.error(n.data),t((0,r.flashMessage)("Oops, something went wrong :()","error")))})}}},638:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=(n(481),n(639)),l=a(o),u=n(745),s=a(u),c=n(747),d=a(c),f=n(749),_=a(f),m=(n(536),n(606),n(751)),p=a(m),E=n(753),h=a(E),v=n(755),b=a(v),y=function(e){var t=e.question,n=e.disableInteraction,a=t.data.question.slice(3,Math.min(t.data.question.length-3,70))+"..";return i["default"].createElement(s["default"],{interactive:!n},i["default"].createElement(d["default"],null,i["default"].createElement(h["default"],{type:"envelope"})),i["default"].createElement(d["default"],{width:"10"},i["default"].createElement(_["default"],{title:!0,to:n?null:"/questions/"+t.data._id},t.data.posterName)),i["default"].createElement(d["default"],{width:"stretch"},i["default"].createElement(_["default"],{to:n?null:"/questions/"+t.data._id},a)),i["default"].createElement(d["default"],{width:"10"},t.data.isSeen?"":i["default"].createElement("div",{className:b["default"].Badge},i["default"].createElement(p["default"],{label:"Not Answered",color:"red"}))),i["default"].createElement(d["default"],{last:!0,width:"10"},i["default"].createElement(_["default"],null,i["default"].createElement(l["default"],{value:t.data.createdAt,format:"h:mm A on MMM Do"}))))};t["default"]=y},745:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(746),l=a(o),u=function(e){var t=e.children,n=e.interactive,a=void 0!==n&&n,r=e.heading,o=void 0!==r&&r,u=e.indented,s=void 0!==u&&u,c=[l["default"].TableRow];return o&&c.push(l["default"].TableRow_heading),a&&c.push(l["default"].TableRow_interactive),s&&c.push(l["default"].TableRow_indented),i["default"].createElement("div",{className:c.join(" ")},t)};t["default"]=u},746:function(e,t){e.exports={TableRow:"TableRow__TableRow___2UBN9",TableRow_heading:"TableRow__TableRow_heading___1Z9eQ",TableRow_interactive:"TableRow__TableRow_interactive___i5JrV",TableRow_indented:"TableRow__TableRow_indented___28V76"}},747:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(748),l=a(o),u=function(e){var t=e.children,n=e.width,a=e.last,r=void 0!==a&&a,o={paddingRight:r?0:"1.5rem"};return"stretch"===n?o.flex=1:o.width=n+"rem",i["default"].createElement("div",{style:o,className:l["default"].TableColumn},t)};t["default"]=u},748:function(e,t){e.exports={TableColumn:"TableColumn__TableColumn___1Tubs"}},749:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(481),l=n(750),u=a(l),s=function(e){var t=e.children,n=e.title,a=void 0!==n&&n,r=e.heading,l=void 0!==r&&r,s=e.to,c=void 0===s?null:s,d=[];return l?(d.push(u["default"].TableHeadingCell),a&&d.push(u["default"].TableHeadingCell_title)):(d.push(u["default"].TableCell),a&&d.push(u["default"].TableCell_title)),c?i["default"].createElement(o.Link,{to:c,className:d.join(" ")},t):i["default"].createElement("div",{className:d.join(" ")},t)};t["default"]=s},750:function(e,t){e.exports={TableCell:"TableCell__TableCell___3jCxo",TableCell_title:"TableCell__TableCell_title___OVykt",TableHeadingCell:"TableCell__TableHeadingCell___3CSTD",TableHeadingCell_title:"TableCell__TableHeadingCell_title___yOdW6"}},751:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(752),l=a(o),u=function(e){var t=e.label,n=e.color,a=void 0===n?"blue":n,r=[l["default"].Badge];switch(a){case"red":r.push(l["default"].Badge_red);break;case"green":r.push(l["default"].Badge_green);break;case"blue":default:r.push(l["default"].Badge_blue)}return i["default"].createElement("div",{className:r.join(" ")},t)};t["default"]=u},752:function(e,t){e.exports={Badge:"Badge__Badge___33eQR",Badge_blue:"Badge__Badge_blue___z33Rl",Badge_red:"Badge__Badge_red___3ZrSl",Badge_green:"Badge__Badge_green___o4HV6"}},753:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(754),l=a(o),u=function(e){var t=e.type,n=[l["default"].Icon];switch(t){case"envelope":n.push(l["default"].Icon_envelope);break;case"folder":n.push(l["default"].Icon_folder);break;case"file-code":n.push(l["default"].Icon_fileCode);break;case"file-text":n.push(l["default"].Icon_fileText);break;case"file-text-draft":n.push(l["default"].Icon_fileTextDraft);break;case"file-blogpost":n.push(l["default"].Icon_fileBlogpost);break;case"file-blogpost-draft":n.push(l["default"].Icon_fileBlogpostDraft);break;case"user":n.push(l["default"].Icon_user);break;case"user-admin":n.push(l["default"].Icon_userAdmin);break;case"user-disabled":n.push(l["default"].Icon_userDisabled);break;case"plus":n.push(l["default"].Icon_plus)}return i["default"].createElement("div",{className:n.join(" ")})};t["default"]=u},754:function(e,t){e.exports={Icon:"Icon__Icon___38Epv",Icon_envelope:"Icon__Icon_envelope___2tNQx",Icon_folder:"Icon__Icon_folder___1Y4nT",Icon_fileCode:"Icon__Icon_fileCode___LdmN-",Icon_fileText:"Icon__Icon_fileText___3SbW0",Icon_fileTextDraft:"Icon__Icon_fileTextDraft___3NSnR",Icon_fileBlogpost:"Icon__Icon_fileBlogpost___AsM8g",Icon_fileBlogpostDraft:"Icon__Icon_fileBlogpostDraft___2HSJ0",Icon_user:"Icon__Icon_user___360fJ",Icon_userAdmin:"Icon__Icon_userAdmin___2wgqB",Icon_userDisabled:"Icon__Icon_userDisabled___DcJp9",Icon_plus:"Icon__Icon_plus___10pTv"}},755:function(e,t){e.exports={QuestionsListItem:"QuestionsListItem__QuestionsListItem___29rxy"}},756:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(757),l=a(o),u=function(e){var t=e.dimmed,n=e.children;return i["default"].createElement("div",{className:l["default"].Wrapper+"\n      "+(t?l["default"].Wrapper_dimmed:"")},n)};t["default"]=u},757:function(e,t){e.exports={Wrapper:"Wrapper__Wrapper___1t_G-",Wrapper_dimmed:"Wrapper__Wrapper_dimmed___1iGtc"}},758:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(759),l=a(o),u=function(e){var t=e.children,n=e.breadcrumbs,a=void 0!==n&&n;return i["default"].createElement("div",{className:l["default"].Table+" "+(a?l["default"].Table_breadcrumbs:"")},t)};t["default"]=u},759:function(e,t){e.exports={Table:"Table__Table___3vKIR",Table_breadcrumbs:"Table__Table_breadcrumbs___3N73o"}},760:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),s=a(u),c=n(639),d=a(c),f=n(459),_=(n(481),n(637)),m=n(606),p=n(536),E=n(751),h=a(E),v=n(761),b=a(v),y=function(e){function t(e){r(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n["delete"]=n["delete"].bind(n),n.toggleAnswered=n.toggleAnswered.bind(n),n}return o(t,e),l(t,[{key:"delete",value:function(){var e=this.props,t=e.deleteQuestion,n=e.question;t(n.data._id)}},{key:"toggleAnswered",value:function(){var e=this.props,t=e.updateQuestion,n=e.question;t(n.data._id,{isSeen:!n.data.isSeen})}},{key:"render",value:function(){var e=this,t=this.props.question,n=s["default"].createElement(m.ListInline,null,s["default"].createElement(m.ListInlineItem,null,s["default"].createElement(p.Button,{disabled:t.data.isUpdating,href:"mailto:"+t.data.posterEmail+"?subject=Reply to your questions on Vaccine Answers"},"Reply via email")),s["default"].createElement(m.ListInlineItem,null,s["default"].createElement(p.LinkButton,{disabled:t.data.isUpdating,onClick:this.toggleAnswered},"Mark as answered")),s["default"].createElement(m.ListInlineItem,null,s["default"].createElement(p.LinkButton,{disabled:t.data.isUpdating,to:"/questions"},"Close")));return t.data.isSeen&&(n=s["default"].createElement(m.ListInline,null,s["default"].createElement(m.ListInlineItem,null,s["default"].createElement(p.LinkButton,{disabled:t.data.isUpdating,color:"red",onClick:this.toggleAnswered},"Mark as not answered")),s["default"].createElement(m.ListInlineItem,null,s["default"].createElement(p.LinkButton,{disabled:t.data.isUpdating,to:"/questions"},"Close")))),s["default"].createElement("div",{ref:function(t){e._element=t},className:b["default"].Question},s["default"].createElement("div",{ref:function(t){e._body=t},className:b["default"].Question__body},s["default"].createElement(m.Block,null,s["default"].createElement(m.Flex,{justifyContent:"space-between"},s["default"].createElement("div",{className:b["default"].Name},t.data.posterName),s["default"].createElement(m.ListInline,null,s["default"].createElement(m.ListInlineItem,null,t.data.isSeen?"":s["default"].createElement(h["default"],{label:"Not Answered",color:"red"})),s["default"].createElement(m.ListInlineItem,null,s["default"].createElement("div",{className:b["default"].Timestamp},s["default"].createElement(d["default"],{value:t.data.createdAt,format:"h:mm A on MMM Do"}))))),s["default"].createElement("div",{className:b["default"].Email},t.data.posterEmail)),s["default"].createElement("div",{dangerouslySetInnerHTML:{__html:t.data.question}})),s["default"].createElement("div",{className:b["default"].Question__footer},n,s["default"].createElement("div",null,s["default"].createElement(p.IconButton,{type:"delete",disabled:t.data.isUpdating,onClick:this["delete"]}))))}}]),t}(s["default"].Component);t["default"]=(0,f.connect)(function(e,t){var n=t.params.questionId;return{question:e.questions?e.questions.items.find(function(e){return e.data._id===n}):{data:{}}}},function(e){return{deleteQuestion:function(t){e((0,_.deleteQuestion)(t))},updateQuestion:function(t,n){e((0,_.updateQuestion)(t,n))}}})(y)},761:function(e,t){e.exports={Question:"Question__Question___1ibu6",Question__body:"Question__Question__body___2R4pe",Question__footer:"Question__Question__footer___4VWYy",Name:"Question__Name___14bOP",Email:"Question__Email___1D3Op",Timestamp:"Question__Timestamp___2rswh"}},762:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),s=a(u),c=n(459),d=n(763),f=n(623),_=a(f),m=n(764),p=a(m),E=n(536),h=n(756),v=a(h),b=n(758),y=a(b),g=n(745),I=a(g),T=n(747),S=a(T),C=n(749),O=a(C),w=n(606),R=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props.fetchUsers;e()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.items,a=e.isFetching,r=e.params,i=e.location,o="/users/new"===i.pathname,l=o||r.userId;return a?s["default"].createElement(_["default"],null):s["default"].createElement(v["default"],{dimmed:l},s["default"].createElement(y["default"],null,s["default"].createElement(I["default"],{heading:!0},s["default"].createElement(S["default"],{width:"stretch"},s["default"].createElement(O["default"],{heading:!0,title:!0},"Users")),s["default"].createElement(S["default"],{width:"25"},s["default"].createElement(O["default"],{heading:!0},"last seen")),s["default"].createElement(S["default"],{last:!0,width:"10"},l?"":s["default"].createElement(w.Flex,{justifyContent:"flex-end"},s["default"].createElement(E.LinkButton,{to:"/users/new"},"add new user")))),o?t:"",n.map(function(e,n){return e.data._id===r.userId?s["default"].createElement("div",{key:n},t):s["default"].createElement(p["default"],{key:n,user:e,disableInteraction:l})})))}}]),t}(s["default"].Component);t["default"]=(0,c.connect)(function(e){return{items:e.users.items,isFetching:e.users.isFetching}},function(e){return{fetchUsers:function(){e((0,d.fetchUsers)())}}})(R)},763:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteUser=t.createUser=t.updateUser=t.fetchUsers=t.REJECT_DELETE_USER=t.CONFIRM_DELETE_USER=t.REQUEST_DELETE_USER=t.REJECT_CREATE_USER=t.CONFIRM_CREATE_USER=t.REQUEST_CREATE_USER=t.REJECT_UPDATE_USER=t.CONFIRM_UPDATE_USER=t.REQUEST_UPDATE_USER=t.RECEIVE_USERS=t.REQUEST_USERS=void 0,n(627);var a=n(481),r=n(628),i=n(626),o=t.REQUEST_USERS="REQUEST_USERS",l=t.RECEIVE_USERS="RECEIVE_USERS",u=t.REQUEST_UPDATE_USER="REQUEST_UPDATE_USER",s=t.CONFIRM_UPDATE_USER="CONFIRM_UPDATE_USER",c=t.REJECT_UPDATE_USER="REJECT_UPDATE_USER",d=t.REQUEST_CREATE_USER="CREATE_USER",f=t.CONFIRM_CREATE_USER="CONFIRM_CREATE_USER",_=t.REJECT_CREATE_USER="REJECT_CREATE_USER",m=t.REQUEST_DELETE_USER="REQUEST_DELETE_USER",p=t.CONFIRM_DELETE_USER="CONFIRM_DELETE_USER",E=t.REJECT_DELETE_USER="REJECT_DELETE_USER",h=function(){return{type:o}},v=function(e){return{type:l,items:e}},b=(t.fetchUsers=function(){return function(e,t){e(h()),fetch("https://vdziubak.com/vaccineAnswersServer/users/",{mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")}}).then(function(t){if(401===t.status)throw e((0,i.logOut)()),e((0,r.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return t}).then(function(e){return e.json()}).then(function(t){t.success?e(v(t.data.users)):(console.error(t.data),e((0,r.flashMessage)("Oops, something went wrong :()","error")))})}},function(e){return{type:u,id:e}}),y=function(e,t){return{type:s,id:e,updatedItem:t}},g=function(e,t){return{type:c,id:e,errors:t}},I=(t.updateUser=function(e,t){return function(n,o){n(b(e)),fetch("https://vdziubak.com/vaccineAnswersServer/users/"+e,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")},body:JSON.stringify({user:t})}).then(function(e){if(401===e.status)throw n((0,i.logOut)()),n((0,r.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return e}).then(function(e){return e.json()}).then(function(t){if(t.success)a.browserHistory.push("/users/"),n(y(e,t.data.user)),n((0,r.flashMessage)("User updated successfully","log"));else if("ValidationError"===t.data.name){var i={};for(var o in t.data.errors)i[o]=t.data.errors[o].message;n(g(e,i)),n((0,r.flashMessage)("Could not update user due to errors","error"))}else console.error(t.data),n((0,r.flashMessage)("Oops, something went wrong :()","error"))})}},function(){return{type:d}}),T=function(e){return{type:f,item:e}},S=function(e){return{type:_,errors:e}},C=(t.createUser=function(e){return function(t,n){t(I()),fetch("https://vdziubak.com/vaccineAnswersServer/users",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")},body:JSON.stringify({user:e})}).then(function(e){if(401===e.status)throw t((0,i.logOut)()),t((0,r.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return e}).then(function(e){return e.json()}).then(function(e){if(e.success)t(T(e.data.user)),t((0,r.flashMessage)("User created successfully","log")),a.browserHistory.push("/users/");else if("ValidationError"===e.data.name){var n={};for(var i in e.data.errors)n[i]=e.data.errors[i].message;t(S(n)),t((0,r.flashMessage)("Could not create user due to errors","error"))}else console.error(e.data),t((0,r.flashMessage)("Oops, something went wrong :()","error"))})}},function(e){return{type:m,id:e}}),O=function(e){return{type:p,id:e}},w=function(e){return{type:E,id:e}};t.deleteUser=function(e){return function(t,n){t(C(e)),fetch("https://vdziubak.com/vaccineAnswersServer/users/"+e,{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")}}).then(function(e){if(401===e.status)throw t((0,i.logOut)()),t((0,r.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return e}).then(function(e){return e.json()}).then(function(n){n.success?(a.browserHistory.push("/users/"),t(O(e)),t((0,r.flashMessage)("User was deleted","log"))):(t(w(e)),console.error(n.data),t((0,r.flashMessage)("Oops, something went wrong :()","error")))})}}},764:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(639),l=a(o),u=n(745),s=a(u),c=n(747),d=a(c),f=n(749),_=a(f),m=n(536),p=n(606),E=n(751),h=a(E),v=n(753),b=a(v),y=n(765),g=a(y),I=function(e){var t=e.user,n=e.disableInteraction,a=null;a=t.data.isEnabled?t.data.admin?"user-admin":"user":"user-disabled";var r="";return r=t.data.lastLoggedInAt?i["default"].createElement(l["default"],{value:t.data.lastLoggedInAt,format:"MMM Do h:mm A"}):"never logged in",i["default"].createElement("div",{className:g["default"].UsersListItem+"\n      "+(n?"":g["default"].UsersListItem_interactive)},i["default"].createElement(s["default"],{interactive:!n},i["default"].createElement(d["default"],null,i["default"].createElement(b["default"],{type:a})),i["default"].createElement(d["default"],{width:"stretch"},i["default"].createElement(_["default"],{title:!0},t.data.name),i["default"].createElement(_["default"],null,"(",t.data.email,")")),i["default"].createElement(d["default"],{width:"15"},i["default"].createElement(_["default"],null,r)),i["default"].createElement(d["default"],{width:"15"},i["default"].createElement(p.Flex,null,t.data.admin?i["default"].createElement("div",{className:g["default"].Badge},i["default"].createElement(h["default"],{label:"Admin",color:"green"})):"",t.data.isEnabled?"":i["default"].createElement("div",{className:g["default"].Badge},i["default"].createElement(h["default"],{label:"Disabled",color:"red"})))),i["default"].createElement(d["default"],{last:!0,width:"5"},i["default"].createElement(p.Flex,{justifyContent:"flex-end"},n?"":i["default"].createElement("div",{className:g["default"].UsersListItem__actions},i["default"].createElement(m.LinkButton,{to:"/users/"+t.data._id},"edit"))))))};t["default"]=I},765:function(e,t){e.exports={UsersListItem:"UsersListItem__UsersListItem___1joA7",UsersListItem__actions:"UsersListItem__UsersListItem__actions___GeLS1",UsersListItem_interactive:"UsersListItem__UsersListItem_interactive___3UkEf"}},766:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");
}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(299),d=a(c),f=n(459),_=n(763),m=n(606),p=n(536),E=n(767),h=a(E),v=function(e){function t(e){i(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n["delete"]=n["delete"].bind(n),n.save=n.save.bind(n),n.change=n.change.bind(n),n.cancel=n.cancel.bind(n),n.state={isDirty:!1,data:u({},e.user.data,{password:""}),errors:{}},n}return l(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.user,n=t.errors,a=t.data,r=t.isUpdating;if(!r){var i={};i=0===Object.keys(n).length&&n.constructor===Object?{isDirty:!1,data:u({},a,{password:""}),errors:{}}:{errors:u({},n)},this.setState(i)}}},{key:"save",value:function(){var e=this.props,t=e.user.data._id,n=e.updateUser,a=u(this.state.data);a.password||delete a.password,n(t,a)}},{key:"cancel",value:function(){var e=this.props.user.data;this.setState({isDirty:!1,data:u({},e,{password:""}),errors:{}})}},{key:"change",value:function(e,t){var n=r({},e,t),a=r({},e,null);this.setState({isDirty:!0,data:u({},this.state.data,n),errors:u({},this.state.errors,a)})}},{key:"delete",value:function(){var e=this.props,t=e.deleteUser,n=e.user.data._id;t(n)}},{key:"render",value:function(){var e=this,t=this.props.user.isUpdating,n=d["default"].createElement(m.ListInline,null,d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.Button,{disabled:!0},"All Saved")),d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.LinkButton,{disabled:t,color:"blue",to:"/users/"},"Close")));return this.state.isDirty&&(n=d["default"].createElement(m.ListInline,null,d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.Button,{disabled:t,onClick:this.save},"Save Changes")),d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.LinkButton,{disabled:t,color:"red",to:"/users/"},"Discard Changes")))),d["default"].createElement("div",{className:h["default"].EditUserForm},d["default"].createElement("div",{className:h["default"].EditUserForm__body},d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Input,{label:"Full Name",value:this.state.data.name,error:this.state.errors.name,disabled:t,onChange:function(t){return e.change("name",t)}})),d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Input,{label:"Email",value:this.state.data.email,error:this.state.errors.email,disabled:t,onChange:function(t){return e.change("email",t)}})),d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Input,{label:"Password",value:this.state.data.password,error:this.state.errors.password,disabled:t,onChange:function(t){return e.change("password",t)}})),d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Checkbox,{label:"Enabled",checked:this.state.data.isEnabled,disabled:t,onChange:function(t){return e.change("isEnabled",t)}})),d["default"].createElement(p.Checkbox,{label:"Admin",checked:this.state.data.admin,disabled:t,onChange:function(t){return e.change("admin",t)}})),d["default"].createElement("div",{className:h["default"].EditUserForm__footer},n,d["default"].createElement("div",null,d["default"].createElement(p.IconButton,{type:"delete",disabled:t,onClick:this["delete"]}))))}}]),t}(d["default"].Component);t["default"]=(0,f.connect)(function(e,t){var n=t.params.userId;return{user:e.users?e.users.items.find(function(e){return e.data._id===n}):{data:{},isUpdating:!0}}},function(e){return{deleteUser:function(t){e((0,_.deleteUser)(t))},updateUser:function(t,n){e((0,_.updateUser)(t,n))}}})(v)},767:function(e,t){e.exports={EditUserForm:"EditUserForm__EditUserForm___34UyP",EditUserForm__body:"EditUserForm__EditUserForm__body___1Ujl7",EditUserForm__footer:"EditUserForm__EditUserForm__footer___3tJSw"}},768:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(299),d=a(c),f=n(459),_=n(763),m=n(606),p=n(536),E=n(769),h=a(E),v=function(e){function t(e){i(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.save=n.save.bind(n),n.change=n.change.bind(n),n.state={data:{name:"",email:"",password:"",admin:"",isEnabled:!1},errors:{}},n}return l(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.item.errors;this.setState({errors:u({},t)})}},{key:"save",value:function(){var e=this.props.createUser;e(this.state.data)}},{key:"change",value:function(e,t){var n=r({},e,t),a=r({},e,null);this.setState({data:u({},this.state.data,n),errors:u({},this.state.errors,a)})}},{key:"render",value:function(){var e=this,t=this.props.item.isUpdating;return d["default"].createElement("div",{className:h["default"].NewUserForm},d["default"].createElement("div",{className:h["default"].NewUserForm__body},d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Input,{label:"Full Name",value:this.state.data.name,error:this.state.errors.name,disabled:t,onChange:function(t){return e.change("name",t)}})),d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Input,{label:"Email",value:this.state.data.email,error:this.state.errors.email,disabled:t,onChange:function(t){return e.change("email",t)}})),d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Input,{label:"Password",value:this.state.data.password,error:this.state.errors.password,disabled:t,onChange:function(t){return e.change("password",t)}})),d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Checkbox,{label:"Enabled",checked:this.state.data.isEnabled,disabled:t,onChange:function(t){return e.change("isEnabled",t)}})),d["default"].createElement(p.Checkbox,{label:"Admin",checked:this.state.data.admin,disabled:t,onChange:function(t){return e.change("admin",t)}})),d["default"].createElement("div",{className:h["default"].NewUserForm__footer},d["default"].createElement(m.ListInline,null,d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.Button,{disabled:t,onClick:this.save},"Create")),d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.LinkButton,{disabled:t,color:"red",to:"/users/"},"Cancel")))))}}]),t}(d["default"].Component);t["default"]=(0,f.connect)(function(e){return{item:e.users?e.users.newUser:{data:{},isUpdating:!0,errors:{}}}},function(e){return{createUser:function(t,n){e((0,_.createUser)(t,n))}}})(v)},769:function(e,t){e.exports={NewUserForm:"NewUserForm__NewUserForm___HKLQg",NewUserForm__body:"NewUserForm__NewUserForm__body___hYcMF",NewUserForm__footer:"NewUserForm__NewUserForm__footer___1vS6f"}},770:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),s=a(u),c=n(459),d=n(771),f=n(772),_=n(623),m=a(_),p=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return o(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.fetchSections,n=e.fetchArticles;t(),n()}},{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.children;return t?s["default"].createElement(m["default"],null):n}}]),t}(s["default"].Component);t["default"]=(0,c.connect)(function(e){return{isFetching:e.sections.isFetching||e.articles.isFetching}},function(e){return{fetchSections:function(){e((0,d.fetchSections)())},fetchArticles:function(){e((0,f.fetchArticles)())}}})(p)},771:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteSection=t.createSection=t.updateSection=t.fetchSections=t.REJECT_DELETE_SECTION=t.CONFIRM_DELETE_SECTION=t.REQUEST_DELETE_SECTION=t.REJECT_CREATE_SECTION=t.CONFIRM_CREATE_SECTION=t.REQUEST_CREATE_SECTION=t.REJECT_UPDATE_SECTION=t.CONFIRM_UPDATE_SECTION=t.REQUEST_UPDATE_SECTION=t.RECEIVE_SECTIONS=t.REQUEST_SECTIONS=void 0,n(627);var a=n(481),r=n(628),i=n(626),o=t.REQUEST_SECTIONS="REQUEST_SECTIONS",l=t.RECEIVE_SECTIONS="RECEIVE_SECTIONS",u=t.REQUEST_UPDATE_SECTION="REQUEST_UPDATE_SECTION",s=t.CONFIRM_UPDATE_SECTION="CONFIRM_UPDATE_SECTION",c=t.REJECT_UPDATE_SECTION="REJECT_UPDATE_SECTION",d=t.REQUEST_CREATE_SECTION="CREATE_SECTION",f=t.CONFIRM_CREATE_SECTION="CONFIRM_CREATE_SECTION",_=t.REJECT_CREATE_SECTION="REJECT_CREATE_SECTION",m=t.REQUEST_DELETE_SECTION="REQUEST_DELETE_SECTION",p=t.CONFIRM_DELETE_SECTION="CONFIRM_DELETE_SECTION",E=t.REJECT_DELETE_SECTION="REJECT_DELETE_SECTION",h=function(){return{type:o}},v=function(e){return{type:l,items:e}},b=(t.fetchSections=function(){return function(e,t){e(h()),fetch("https://vdziubak.com/vaccineAnswersServer/sections/",{mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")}}).then(function(t){if(401===t.status)throw e((0,i.logOut)()),e((0,r.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return t}).then(function(e){return e.json()}).then(function(t){t.success?e(v(t.data.items)):(console.error(t.data),e((0,r.flashMessage)("Oops, something went wrong :()","error")))})}},function(e){return{type:u,id:e}}),y=function(e,t){return{type:s,id:e,item:t}},g=function(e,t){return{type:c,id:e,errors:t}},I=(t.updateSection=function(e,t,n){return function(o,l){o(b(e)),fetch("https://vdziubak.com/vaccineAnswersServer/sections/"+e,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")},body:JSON.stringify({section:t})}).then(function(e){if(401===e.status)throw o((0,i.logOut)()),o((0,r.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return e}).then(function(e){return e.json()}).then(function(t){if(t.success)o(y(e,t.data.section)),o((0,r.flashMessage)("Section was successfully updated","log")),n&&a.browserHistory.push(n);else if("ValidationError"===t.data.name){var i={};for(var l in t.data.errors)i[l]=t.data.errors[l].message;o(g(e,i)),o((0,r.flashMessage)("Could not update section due to errors","error"))}else console.error(t.data),o((0,r.flashMessage)("Oops, something went wrong :()","error"))})}},function(){return{type:d}}),T=function(e){return{type:f,item:e}},S=function(e){return{type:_,errors:e}},C=(t.createSection=function(e,t){return function(n,o){n(I()),fetch("https://vdziubak.com/vaccineAnswersServer/sections/",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")},body:JSON.stringify({section:e})}).then(function(e){if(401===e.status)throw n((0,i.logOut)()),n((0,r.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return e}).then(function(e){return e.json()}).then(function(e){if(e.success)n(T(e.data.section)),n(y(e.data.parent._id,e.data.parent)),n((0,r.flashMessage)("Section created successfully","log")),t&&a.browserHistory.push(t);else if("ValidationError"===e.data.name){var i={};for(var o in e.data.errors)i[o]=e.data.errors[o].message;n(S(i)),n((0,r.flashMessage)("Could not create section due to errors","error"))}else console.error(e.data),n((0,r.flashMessage)("Oops, something went wrong :()","error"))})}},function(e){return{type:m,id:e}}),O=function(e){return{type:p,id:e}},w=function(e){return{type:E,id:e}};t.deleteSection=function(e,t,n){return function(o,l){o(C(e)),fetch("https://vdziubak.com/vaccineAnswersServer/sections/"+e,{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")}}).then(function(e){if(401===e.status)throw o((0,i.logOut)()),o((0,r.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return e}).then(function(e){return e.json()}).then(function(i){i.success?(o(y(i.data.parent._id,i.data.parent)),n&&a.browserHistory.push(n),o(O(e)),t.map(function(e){return O(e)}),o((0,r.flashMessage)("Section was deleted","log"))):(o(w(e)),console.error(i.data),o((0,r.flashMessage)("Oops, something went wrong :()","error")))})}}},772:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteArticle=t.createArticle=t.updateArticle=t.fetchArticles=t.REJECT_DELETE_ARTICLE=t.CONFIRM_DELETE_ARTICLE=t.REQUEST_DELETE_ARTICLE=t.REJECT_CREATE_ARTICLE=t.CONFIRM_CREATE_ARTICLE=t.REQUEST_CREATE_ARTICLE=t.REJECT_UPDATE_ARTICLE=t.CONFIRM_UPDATE_ARTICLE=t.REQUEST_UPDATE_ARTICLE=t.RECEIVE_ARTICLES=t.REQUEST_ARTICLES=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(627);var r=n(481),i=n(771),o=n(628),l=n(626),u=t.REQUEST_ARTICLES="REQUEST_ARTICLES",s=t.RECEIVE_ARTICLES="RECEIVE_ARTICLES",c=t.REQUEST_UPDATE_ARTICLE="REQUEST_UPDATE_ARTICLE",d=t.CONFIRM_UPDATE_ARTICLE="CONFIRM_UPDATE_ARTICLE",f=t.REJECT_UPDATE_ARTICLE="REJECT_UPDATE_ARTICLE",_=t.REQUEST_CREATE_ARTICLE="CREATE_ARTICLE",m=t.CONFIRM_CREATE_ARTICLE="CONFIRM_CREATE_ARTICLE",p=t.REJECT_CREATE_ARTICLE="REJECT_CREATE_ARTICLE",E=t.REQUEST_DELETE_ARTICLE="REQUEST_DELETE_ARTICLE",h=t.CONFIRM_DELETE_ARTICLE="CONFIRM_DELETE_ARTICLE",v=t.REJECT_DELETE_ARTICLE="REJECT_DELETE_ARTICLE",b=function(){return{type:u}},y=function(e){return{type:s,items:e}},g=(t.fetchArticles=function(){return function(e,t){e(b()),fetch("https://vdziubak.com/vaccineAnswersServer/articles/",{mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")}}).then(function(t){if(401===t.status)throw e((0,l.logOut)()),e((0,o.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return t}).then(function(e){return e.json()}).then(function(t){t.success?e(y(t.data.articles)):(console.error(t.data),e((0,o.flashMessage)("Oops, something went wrong :()","error")))})}},function(e){return{type:c,id:e}}),I=function(e,t){return{type:d,id:e,item:t}},T=function(e,t){return{type:f,id:e,errors:t}},S=(t.updateArticle=function(e,t,n){return function(i,u){i(g(e)),t=a({},t,{comments:t.comments.filter(function(e){return!e.isDeleted}).map(function(e){return a({},e,{replies:e.replies.filter(function(e){return!e.isDeleted})})})}),fetch("https://vdziubak.com/vaccineAnswersServer/articles/"+e,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")},body:JSON.stringify({article:t})}).then(function(e){if(401===e.status)throw i((0,l.logOut)()),i((0,o.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return e}).then(function(e){return e.json()}).then(function(t){if(t.success)i(I(e,t.data.article)),i((0,o.flashMessage)("Article has been saved","log")),n&&r.browserHistory.push(n);else if("ValidationError"===t.data.name){var a={};for(var l in t.data.errors)a[l]=t.data.errors[l].message;i(T(e,a)),i((0,o.flashMessage)("Could not update article due to errors","error"))}else console.error(t.data),i((0,o.flashMessage)("Oops, something went wrong :()","error"))})}},function(){return{type:_}}),C=function(e){return{type:m,item:e}},O=function(e){return{type:p,errors:e}},w=(t.createArticle=function(e,t){return function(n,a){n(S()),fetch("https://vdziubak.com/vaccineAnswersServer/articles/",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")},body:JSON.stringify({article:e})}).then(function(e){if(401===e.status)throw n((0,l.logOut)()),n((0,o.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return e}).then(function(e){return e.json()}).then(function(e){if(e.success)n(C(e.data.article)),n({type:i.CONFIRM_UPDATE_SECTION,id:e.data.parent._id,item:e.data.parent}),n((0,o.flashMessage)("Article created successfully","log")),t&&r.browserHistory.push(t);else if("ValidationError"===e.data.name){var a={};for(var l in e.data.errors)a[l]=e.data.errors[l].message;n(O(a)),n((0,o.flashMessage)("Could not create article due to errors","error"))}else console.error(e.data),n((0,o.flashMessage)("Oops, something went wrong :()","error"))})}},function(e){return{type:E,id:e}}),R=function(e){return{type:h,id:e}},U=function(e){return{type:v,id:e}};t.deleteArticle=function(e,t){return function(n,a){n(w(e)),fetch("https://vdziubak.com/vaccineAnswersServer/articles/"+e,{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")}}).then(function(e){if(401===e.status)throw n((0,l.logOut)()),n((0,o.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return e}).then(function(e){return e.json()}).then(function(a){a.success?(n({type:i.CONFIRM_UPDATE_SECTION,id:a.data.parent._id,item:a.data.parent}),t&&r.browserHistory.push(t),n(R(e)),n((0,o.flashMessage)("Article was deleted","log"))):(n(U(e)),console.error(a.data),n((0,o.flashMessage)("Oops, something went wrong :()","error")))})}}},773:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(299),c=a(s),d=n(459),f=n(774),_=n(771),m=n(776),p=a(m),E=(n(536),n(778)),h=a(E),v=n(756),b=a(v),y=n(758),g=a(y),I=n(745),T=a(I),S=n(747),C=a(S),O=n(749),w=a(O),R=(n(606),(0,f.sortable)(function(e){return c["default"].createElement("div",e,e.children)})),U=function(e){function t(e){r(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.updateState=n.updateState.bind(n),n.state={draggingIndex:null,data:{items:e.metaSection.data.children}},n}return o(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:{items:e.metaSection.data.children}})}},{key:"updateState",value:function(e){if(null===e.draggingIndex){var t=this.props,n=t.metaSection,a=t.updateSection;a(n.data._id,{children:this.state.data.items})}this.setState(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.metaSection,r=t.sections,i=t.location,o=t.params,u=i.pathname==="/"+o.metaSectionUrl+"/new",s=i.pathname==="/"+o.metaSectionUrl+"/"+o.sectionId+"/edit",d=u||s;return c["default"].createElement(b["default"],{dimmed:d},c["default"].createElement(g["default"],null,c["default"].createElement(T["default"],{heading:!0},c["default"].createElement(C["default"],{width:"stretch"},c["default"].createElement(w["default"],{heading:!0,title:!0},a.data.title)),c["default"].createElement(C["default"],{width:"20"},c["default"].createElement(w["default"],{heading:!0},"url")),c["default"].createElement(C["default"],{last:!0,width:"15"})),u&&i.query.parentId===a.data._id?n:"",this.state.data.items.map(function(t,u){if(s&&t===o.sectionId)return c["default"].createElement("div",{key:u},n);var f=function(){var l=r.find(function(e){return e.data._id===t}),s=r.filter(function(e){return l.data.children.indexOf(e.data._id)!==-1}),f=c["default"].createElement(h["default"],{section:l,subsections:s,children:n,params:o,location:i});return d?{v:c["default"].createElement("div",{key:u},c["default"].createElement(p["default"],{params:o,section:l,parent:a,disableInteraction:d||null!==e.state.draggingIndex}),f)}:{v:c["default"].createElement(R,{key:u,updateState:e.updateState,items:e.state.data.items,draggingIndex:e.state.draggingIndex,sortId:u,outline:"list"},c["default"].createElement(p["default"],{params:o,section:l,parent:a,disableInteraction:d||null!==e.state.draggingIndex}),f)}}();return"object"===("undefined"==typeof f?"undefined":l(f))?f.v:void 0})))}}]),t}(c["default"].Component);t["default"]=(0,d.connect)(function(e,t){var n=t.params,a=e.sections.items.find(function(e){return e.data.url===n.metaSectionUrl&&e.data.meta});return{sections:e.sections.items,metaSection:a}},function(e){return{updateSection:function(t,n){e((0,_.updateSection)(t,n))}}})(U)},776:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(745),l=a(o),u=n(747),s=a(u),c=n(749),d=a(c),f=n(606),_=n(536),m=n(753),p=a(m),E=n(777),h=a(E),v=function(e){var t=e.params,n=e.section,a=e.parent,r=e.disableInteraction,o=null;"parent"===n.data.sectionType?o="folder":"custom"===n.data.sectionType?o="file-code":"articles"===n.data.sectionType?o="file-text":"blogposts"===n.data.sectionType&&(o="file-blogpost");var u="";u=a.data.meta?"/"+n.data.url:"/"+a.data.url+"/"+n.data.url;var c="";r||(c="parent"===n.data.sectionType?i["default"].createElement("div",{className:h["default"].SectionsListItem__actions},i["default"].createElement(f.Flex,{justifyContent:"flex-end"},i["default"].createElement(_.LinkButton,{to:"/"+t.metaSectionUrl+"/new?parentId="+n.data._id},"add new sub-section"),i["default"].createElement(_.LinkButton,{to:"/"+t.metaSectionUrl+"/"+n.data._id+"/edit"},"edit"))):i["default"].createElement("div",{className:h["default"].SectionsListItem__actions},i["default"].createElement(f.Flex,{justifyContent:"flex-end"},i["default"].createElement(_.LinkButton,{to:"/"+t.metaSectionUrl+"/"+n.data._id+"/edit"},"edit"))));var m="";return r||"parent"===n.data.sectionType||"custom"===n.data.sectionType||(m="/"+t.metaSectionUrl+"/"+n.data._id),i["default"].createElement("div",{className:h["default"].SectionsListItem+"\n      "+(r?"":h["default"].SectionsListItem_interactive)},i["default"].createElement(l["default"],{interactive:!r,indented:!a.data.meta},i["default"].createElement(s["default"],null,i["default"].createElement(p["default"],{type:o})),i["default"].createElement(s["default"],{width:"stretch"},i["default"].createElement(d["default"],{title:!0,to:m},n.data.title)),i["default"].createElement(s["default"],{width:"20"},i["default"].createElement(d["default"],null,u)),i["default"].createElement(s["default"],{width:"15",last:!0},c)))};t["default"]=v},777:function(e,t){e.exports={SectionsListItem:"SectionsListItem__SectionsListItem___1KZEQ",SectionsListItem__actions:"SectionsListItem__SectionsListItem__actions___xiBIG",SectionsListItem_interactive:"SectionsListItem__SectionsListItem_interactive___iEJJ_"}},778:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),s=a(u),c=n(459),d=n(774),f=n(771),_=n(776),m=a(_),p=(0,d.sortable)(function(e){return s["default"].createElement("div",e,e.children)}),E=function(e){function t(e){r(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.updateState=n.updateState.bind(n),n.state={draggingIndex:null,data:{items:e.section.data.children}},n}return o(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:{items:e.section.data.children}})}},{key:"updateState",value:function(e){if(null===e.draggingIndex){var t=this.props,n=t.section,a=t.updateSection;a(n.data._id,{children:this.state.data.items})}this.setState(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.section,a=t.subsections,r=t.children,i=t.location,o=t.params,l=i.pathname==="/"+o.metaSectionUrl+"/new",u=i.pathname==="/"+o.metaSectionUrl+"/"+o.sectionId+"/edit",c=l||u;return s["default"].createElement("div",null,l&&i.query.parentId===n.data._id?r:"",n.data.children.map(function(t,i){var l=a.find(function(e){return e.data._id===t});return u&&t===o.sectionId?s["default"].createElement("div",{key:i},r):c?s["default"].createElement(m["default"],{key:i,params:o,section:l,parent:n,disableInteraction:c||null!==e.state.draggingIndex}):s["default"].createElement(p,{key:i,updateState:e.updateState,items:e.state.data.items,draggingIndex:e.state.draggingIndex,sortId:i,outline:"list"},s["default"].createElement(m["default"],{params:o,section:l,parent:n,disableInteraction:c||null!==e.state.draggingIndex}))}))}}]),t}(s["default"].Component);t["default"]=(0,c.connect)(null,function(e){return{updateSection:function(t,n){e((0,f.updateSection)(t,n))}}})(E)},779:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(299),d=a(c),f=n(459),_=n(771),m=n(606),p=n(536),E=n(780),h=function(e){function t(e){i(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.save=n.save.bind(n),n.change=n.change.bind(n),n.state={data:{title:"",url:"",sectionType:"articles",parent:e.parentSection.data._id},errors:{}},n}return l(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.item.errors;this.setState({errors:u({},t)})}},{key:"save",value:function(){var e=this.props.createSection;e(this.state.data)}},{key:"change",value:function(e,t){var n=r({},e,t),a=r({},e,null);this.setState({data:u({},this.state.data,n),errors:u({},this.state.errors,a)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.item.isUpdating,a=t.parentSection,r=t.params,i=[];return i=a.data.meta?[{id:"articles",label:"List of articles"},{id:"parent",label:"Parent"},{id:"custom",label:"Custom page"},{id:"blogposts",label:"List of blog posts"}]:[{id:"articles",label:"List of articles"},{id:"blogposts",label:"list of blog posts"}],d["default"].createElement(E.Form,null,d["default"].createElement(E.FormHeader,null,"Add new section"),d["default"].createElement(E.FormBody,null,d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Input,{label:"Title",value:this.state.data.title,error:this.state.errors.title,disabled:n,onChange:function(t){return e.change("title",t)}})),d["default"].createElement(p.Input,{label:"url",value:this.state.data.url,error:this.state.errors.url,disabled:n,onChange:function(t){return e.change("url",t)}})),d["default"].createElement(E.FormFooter,null,d["default"].createElement(m.ListInline,null,d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.Button,{disabled:n,onClick:this.save},"Create")),d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.LinkButton,{disabled:n,color:"red",to:"/"+r.metaSectionUrl+"/"},"Cancel")))))}}]),t}(d["default"].Component);t["default"]=(0,f.connect)(function(e,t){var n=t.location.query.parentId,a=e.sections.items.find(function(e){return e.data._id===n});return{item:e.sections.newSection,parentSection:a}},function(e,t){var n=t.params;return{createSection:function(t){e((0,_.createSection)(t,"/"+n.metaSectionUrl));
}}})(h)},780:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FormFooter=t.FormBody=t.FormHeader=t.Form=void 0;var r=n(299),i=a(r),o=n(781),l=a(o),u=function(e){var t=e.children;return i["default"].createElement("div",{className:l["default"].Form},t)},s=function(e){var t=e.children;return i["default"].createElement("div",{className:l["default"].Form__header},t)},c=function(e){var t=e.children;return i["default"].createElement("div",{className:l["default"].Form__body},t)},d=function(e){var t=e.children;return i["default"].createElement("div",{className:l["default"].Form__footer},t)};t.Form=u,t.FormHeader=s,t.FormBody=c,t.FormFooter=d},781:function(e,t){e.exports={Form:"Form__Form___2zwZf",Form__header:"Form__Form__header___Llkaf",Form__body:"Form__Form__body___v6Ya2",Form__footer:"Form__Form__footer___UiRNW"}},782:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(299),d=a(c),f=n(459),_=n(771),m=n(606),p=n(536),E=n(780),h=function(e){function t(e){i(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n["delete"]=n["delete"].bind(n),n.save=n.save.bind(n),n.change=n.change.bind(n),n.state={isDirty:!1,data:u({},e.section.data),errors:{}},n}return l(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.section,n=t.errors,a=t.data,r=t.isUpdating;if(!r){var i={};i=0===Object.keys(n).length&&n.constructor===Object?{isDirty:!1,data:u({},a),errors:{}}:{errors:u({},n)},this.setState(i)}}},{key:"save",value:function(){var e=this.props,t=e.section.data._id,n=e.updateSection,a=u(this.state.data);n(t,a)}},{key:"change",value:function(e,t){var n=r({},e,t),a=r({},e,null);this.setState({isDirty:!0,data:u({},this.state.data,n),errors:u({},this.state.errors,a)})}},{key:"delete",value:function(){var e=this.props,t=e.deleteSection,n=e.section;t(n.data._id,n.data.children)}},{key:"render",value:function(){var e=this,t=this.props,n=t.section,a=t.parentSection,r=t.params,i=d["default"].createElement(m.ListInline,null,d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.Button,{disabled:!0},"All Saved")),d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.LinkButton,{disabled:n.isUpdating,to:"/"+r.metaSectionUrl},"Close")));return this.state.isDirty&&(i=d["default"].createElement(m.ListInline,null,d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.Button,{disabled:n.isUpdating,onClick:this.save},"Save Changes")),d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.LinkButton,{disabled:n.isUpdating,color:"red",to:"/"+r.metaSectionUrl},"Discard Changes")))),d["default"].createElement(E.Form,null,d["default"].createElement(E.FormHeader,null,"Edit section"),d["default"].createElement(E.FormBody,null,d["default"].createElement(m.Block,{n:1},d["default"].createElement(p.Input,{label:"Title",value:this.state.data.title,error:this.state.errors.title,disabled:n.isUpdating,onChange:function(t){return e.change("title",t)}})),d["default"].createElement(p.Input,{label:"url",value:this.state.data.url,error:this.state.errors.url,disabled:n.isUpdating,onChange:function(t){return e.change("url",t)}})),d["default"].createElement(E.FormFooter,null,d["default"].createElement(m.Flex,{justifyContent:"space-between"},i,d["default"].createElement("div",null,a.data.meta?"":d["default"].createElement(p.IconButton,{type:"delete",disabled:n.isUpdating,onClick:this["delete"]})))))}}]),t}(d["default"].Component);t["default"]=(0,f.connect)(function(e,t){var n=t.params.sectionId,a=e.sections.items.find(function(e){return e.data._id===n}),r=e.sections.items.find(function(e){return e.data._id===a.data.parent});return{section:a,parentSection:r}},function(e,t){var n=t.params,a="/"+n.metaSectionUrl;return{deleteSection:function(t,n){e((0,_.deleteSection)(t,n,a))},updateSection:function(t,n){e((0,_.updateSection)(t,n,a))}}})(h)},783:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(459),l=n(784),u=a(l),s=n(787),c=a(s),d=n(789),f=a(d),_=function(e){var t=e.section,n=e.parent,a=e.location,r=e.params,o=e.children;switch(t.data.sectionType){case"articles":case"blogposts":return i["default"].createElement(u["default"],{section:t,parent:n,params:r,location:a,children:o});case"custom":switch(t.data.customId){case"home":return i["default"].createElement(c["default"],null);case"about":return i["default"].createElement(f["default"],null);default:console.error("unexpected custom page "+t.data.customId)}break;default:console.error("unexpected section type "+t.data.sectionType)}};t["default"]=(0,o.connect)(function(e,t){var n=t.params,a=e.sections.items.find(function(e){return e.data._id===n.sectionId}),r=e.sections.items.find(function(e){return e.data._id===a.data.parent});return{section:a,parent:r}})(_)},784:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),s=a(u),c=n(459),d=n(774),f=n(771),_=n(785),m=a(_),p=n(536),E=n(606),h=n(756),v=a(h),b=n(758),y=a(b),g=n(745),I=a(g),T=n(747),S=a(T),C=n(749),O=a(C),w=(0,d.sortable)(function(e){return s["default"].createElement("div",e,e.children)}),R=function(e){function t(e){r(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.updateState=n.updateState.bind(n),n.state={draggingIndex:null,data:{items:e.section.data.articles}},n}return o(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({data:{items:e.section.data.articles}})}},{key:"updateState",value:function(e){if(null===e.draggingIndex){var t=this.props.updateSection;t({articles:this.state.data.items})}this.setState(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.articles,a=t.section,r=t.children,i=t.params,o=t.location,l=o.pathname==="/"+i.metaSectionUrl+"/"+i.sectionId+"/articles/new",u=o.pathname==="/"+i.metaSectionUrl+"/"+i.sectionId+"/articles/"+i.articleId,c=l||u,d="";return"articles"===a.data.sectionType?d=s["default"].createElement(E.Flex,{justifyContent:"flex-end"},s["default"].createElement(p.LinkButton,{to:"/"+i.metaSectionUrl+"/"+i.sectionId+"/articles/new"},"add new article"),s["default"].createElement(p.LinkButton,{to:"/"+i.metaSectionUrl+"/"+i.sectionId+"/articles/new?type=heading"},"add new heading")):"blogposts"===a.data.sectionType&&(d=s["default"].createElement(E.Flex,{justifyContent:"flex-end"},s["default"].createElement(p.LinkButton,{to:"/"+i.metaSectionUrl+"/"+i.sectionId+"/articles/new"},"add new blog post"))),s["default"].createElement(v["default"],{dimmed:c},s["default"].createElement(y["default"],null,s["default"].createElement(I["default"],{heading:!0},s["default"].createElement(S["default"],{width:"stretch"},s["default"].createElement(O["default"],{title:!0,heading:!0},a.data.title)),s["default"].createElement(S["default"],{width:"20"},s["default"].createElement(O["default"],{heading:!0},"url")),s["default"].createElement(S["default"],{last:!0,width:"15"},c?"":d)),l?r:"",this.state.data.items.map(function(t,o){if(u&&i.articleId===t)return s["default"].createElement("div",{key:o},r);var l=n.find(function(e){return e.data._id===t});return c?s["default"].createElement(m["default"],{key:o,params:i,article:l,section:a,disableInteraction:c||null!==e.state.draggingIndex}):s["default"].createElement(w,{key:o,updateState:e.updateState,items:e.state.data.items,draggingIndex:e.state.draggingIndex,sortId:o,outline:"list"},s["default"].createElement(m["default"],{key:o,params:i,article:l,section:a,disableInteraction:c||null!==e.state.draggingIndex}))})))}}]),t}(s["default"].Component);t["default"]=(0,c.connect)(function(e,t){var n=t.params,a=e.sections.items.find(function(e){return e.data._id===n.sectionId}),r=e.articles.items.filter(function(e){return a.data.articles.indexOf(e.data._id)!==-1});return{section:a,articles:r}},function(e,t){var n=t.params;return{updateSection:function(t){e((0,f.updateSection)(n.sectionId,t))}}})(R)},785:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(751),l=a(o),u=n(745),s=a(u),c=n(747),d=a(c),f=n(749),_=a(f),m=n(536),p=n(606),E=n(753),h=a(E),v=n(786),b=a(v),y=function(e){var t=e.article,n=e.section,a=e.disableInteraction,r=e.params,o=null;switch(t.data.articleType){case"article":o=t.data.isPublished?"file-text":"file-text-draft";break;case"blogpost":o=t.data.isPublished?"file-blogpost":"file-blogpost-draft";break;case"heading":default:o=null}var u="/"+t.data.url;"heading"===t.data.articleType&&(u="");var c="";return a||(c=i["default"].createElement("div",{className:b["default"].ArticlesListItem__actions},i["default"].createElement(m.LinkButton,{to:"/"+r.metaSectionUrl+"/"+n.data._id+"/articles/"+t.data._id},"edit"))),i["default"].createElement("div",{className:b["default"].ArticlesListItem+"\n      "+(a?"":b["default"].ArticlesListItem_interactive)+"\n      "+("heading"===t.data.articleType?b["default"].ArticlesListItem_heading:"")},i["default"].createElement(s["default"],{interactive:!a},o?i["default"].createElement(d["default"],null,i["default"].createElement(h["default"],{type:o})):"",i["default"].createElement(d["default"],{width:"stretch"},i["default"].createElement(_["default"],{title:!0},t.data.title)),i["default"].createElement(d["default"],{width:"25"},i["default"].createElement(_["default"],null,u)),i["default"].createElement(d["default"],{width:"3"},t.data.isPublished?"":i["default"].createElement(l["default"],{label:"Draft",color:"red"})),i["default"].createElement(d["default"],{width:"7",last:!0},i["default"].createElement(p.Flex,{justifyContent:"flex-end"},c))))};t["default"]=y},786:function(e,t){e.exports={ArticlesListItem:"ArticlesListItem__ArticlesListItem___3qQzB",ArticlesListItem__actions:"ArticlesListItem__ArticlesListItem__actions___rshua",ArticlesListItem_interactive:"ArticlesListItem__ArticlesListItem_interactive___2EniE",ArticlesListItem_heading:"ArticlesListItem__ArticlesListItem_heading___1JNKb"}},787:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(788),l=a(o),u=function(){return i["default"].createElement("div",{className:l["default"].CustomPageHome},"I am CustomPageHome component!")};t["default"]=u},788:function(e,t){e.exports={CustomPageHome:"CustomPageHome__CustomPageHome___2tvRs"}},789:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(790),l=a(o),u=function(){return i["default"].createElement("div",{className:l["default"].CustomPageAbout},"I am CustomPageAbout component!")};t["default"]=u},790:function(e,t){e.exports={CustomPageAbout:"CustomPageAbout__CustomPageAbout___29Mor"}},791:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(299),d=a(c),f=n(459),_=n(772),m=n(606),p=n(536),E=n(780),h=function(e){function t(e){i(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.save=n.save.bind(n),n.change=n.change.bind(n),n.state={data:{title:"",url:"",snippet:"",content:"",articleType:"",isPublished:!1,isFrequent:!1,parent:e.params.sectionId},errors:{}},"blogposts"===e.section.data.sectionType?n.state.data.articleType="blogpost":"heading"===e.location.query.type?n.state.data.articleType="heading":n.state.data.articleType="article",n}return l(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.item.errors;this.setState({errors:u({},t)})}},{key:"save",value:function(){var e=this.props.createArticle;e(this.state.data)}},{key:"change",value:function(e,t){var n=r({},e,t),a=r({},e,null);this.setState({data:u({},this.state.data,n),errors:u({},this.state.errors,a)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.item.isUpdating,a=t.params,r="";switch(this.state.data.articleType){case"article":r="article";break;case"blogpost":r="blog post";break;case"heading":r="heading";break;default:console.error("unexpected article type "+this.state.data.articleType)}return d["default"].createElement(E.Form,null,d["default"].createElement(E.FormHeader,null,"Add new ",r),d["default"].createElement(E.FormBody,null,d["default"].createElement(m.Block,null,d["default"].createElement(p.Input,{label:"Title",value:this.state.data.title,error:this.state.errors.title,disabled:n,onChange:function(t){return e.change("title",t)}})),"heading"!==this.state.data.articleType?d["default"].createElement(m.Block,null,d["default"].createElement(p.Input,{label:"url",value:this.state.data.url,error:this.state.errors.url,disabled:n,onChange:function(t){return e.change("url",t)}})):"",d["default"].createElement(m.Block,null,d["default"].createElement(p.Checkbox,{label:"Published:",checked:this.state.data.isPublished,disabled:n,onChange:function(t){return e.change("isPublished",t)}})),"blogpost"===this.state.data.articleType?d["default"].createElement(m.Block,null,d["default"].createElement(p.Editor,{label:"Preview:",value:this.state.data.snippet,error:this.state.errors.snippet,disabled:n,onChange:function(t){return e.change("snippet",t)}})):"","heading"!==this.state.data.articleType?d["default"].createElement(p.Editor,{label:"Content:",value:this.state.data.content,error:this.state.errors.content,disabled:n,onChange:function(t){return e.change("content",t)}}):""),d["default"].createElement(E.FormFooter,null,d["default"].createElement(m.ListInline,null,d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.Button,{disabled:n,onClick:this.save},"Create")),d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.LinkButton,{disabled:n,color:"red",to:"/"+a.metaSectionUrl+"/"+a.sectionId},"Cancel")))))}}]),t}(d["default"].Component);t["default"]=(0,f.connect)(function(e,t){var n=t.params.sectionId,a=e.sections.items.find(function(e){return e.data._id===n});return{item:e.articles.newArticle,section:a}},function(e,t){var n=t.params;return{createArticle:function(t){e((0,_.createArticle)(t,"/"+n.metaSectionUrl+"/"+n.sectionId))}}})(h)},792:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(299),d=a(c),f=n(459),_=n(772),m=n(606),p=n(536),E=n(780),h=n(793),v=a(h),b=function(e){function t(e){i(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n["delete"]=n["delete"].bind(n),n.save=n.save.bind(n),n.change=n.change.bind(n),n.deleteComment=n.deleteComment.bind(n),n.deleteReply=n.deleteReply.bind(n),n.state={isDirty:!1,data:u({},e.article.data),errors:{}},n}return l(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.article,n=t.errors,a=t.data,r=t.isUpdating;if(!r){var i={};i=0===Object.keys(n).length&&n.constructor===Object?{isDirty:!1,data:u({},a),errors:{}}:{errors:u({},n)},this.setState(i)}}},{key:"save",value:function(){var e=this.props,t=e.article.data._id,n=e.updateArticle,a=u(this.state.data);n(t,a)}},{key:"change",value:function(e,t){var n=r({},e,t),a=r({},e,null);this.setState({isDirty:!0,data:u({},this.state.data,n),errors:u({},this.state.errors,a)})}},{key:"delete",value:function(){var e=this.props,t=e.deleteArticle,n=e.article;t(n.data._id)}},{key:"deleteComment",value:function(e){var t=this.state.data.comments.map(function(t){return t._id===e?u({},t,{isDeleted:!t.isDeleted}):t});this.setState({isDirty:!0,data:u({},this.state.data,{comments:t})})}},{key:"deleteReply",value:function(e,t){var n=this.state.data.comments.find(function(e){return e._id===t}),a=n.replies.map(function(t){return t._id===e?u({},t,{isDeleted:!t.isDeleted}):t});this.setState({isDirty:!0,data:u({},this.state.data,{comments:this.state.data.comments.map(function(e){return e._id===t?u({},e,{replies:a}):e})})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.params.isUpdating,a=t.params,r="";r=this.state.isDirty?d["default"].createElement(m.ListInline,null,d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.Button,{disabled:n,onClick:this.save},"Save Changes")),d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.LinkButton,{disabled:n,color:"red",to:"/"+a.metaSectionUrl+"/"+a.sectionId},"Discard Changes"))):d["default"].createElement(m.ListInline,null,d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.Button,{disabled:!0},"All Saved")),d["default"].createElement(m.ListInlineItem,null,d["default"].createElement(p.LinkButton,{disabled:n,to:"/"+a.metaSectionUrl+"/"+a.sectionId},"Close")));var i="";switch(this.state.data.articleType){case"article":i="Edit Article";break;case"blogpost":i="Edit Blogpost";break;case"heading":i="Edit Heading";break;default:console.error("unexpected article type "+this.state.data.articleType)}return d["default"].createElement(E.Form,null,d["default"].createElement(E.FormHeader,null,i),d["default"].createElement(E.FormBody,null,d["default"].createElement(m.Block,null,d["default"].createElement(p.Input,{label:"Title",value:this.state.data.title,error:this.state.errors.title,disabled:n,onChange:function(t){return e.change("title",t)}})),"heading"!==this.state.data.articleType?d["default"].createElement(m.Block,null,d["default"].createElement(p.Input,{label:"url",value:this.state.data.url,error:this.state.errors.url,disabled:n,onChange:function(t){return e.change("url",t)}})):"",d["default"].createElement(m.Block,null,d["default"].createElement(p.Checkbox,{label:"Published:",checked:this.state.data.isPublished,disabled:n,onChange:function(t){return e.change("isPublished",t)}})),"blogpost"===this.state.data.articleType?d["default"].createElement(m.Block,null,d["default"].createElement(p.Editor,{label:"Preview:",value:this.state.data.snippet,error:this.state.errors.snippet,disabled:n,onChange:function(t){return e.change("snippet",t)}})):"","heading"!==this.state.data.articleType?d["default"].createElement(m.Block,null,d["default"].createElement(p.Editor,{label:"Content:",value:this.state.data.content,error:this.state.errors.content,disabled:n,onChange:function(t){return e.change("content",t)}})):"",d["default"].createElement(v["default"],{items:this.state.data.comments,onDeleteComment:this.deleteComment,onDeleteReply:this.deleteReply})),d["default"].createElement(E.FormFooter,null,d["default"].createElement(m.Flex,{justifyContent:"space-between"},r,d["default"].createElement("div",null,d["default"].createElement(p.IconButton,{type:"delete",disabled:n,onClick:this["delete"]})))))}}]),t}(d["default"].Component);t["default"]=(0,f.connect)(function(e,t){var n=t.params;return{article:e.articles.items.find(function(e){return e.data._id===n.articleId})}},function(e,t){var n=t.params,a="/"+n.metaSectionUrl+"/"+n.sectionId;return{deleteArticle:function(t){e((0,_.deleteArticle)(t,a))},updateArticle:function(t,n){e((0,_.updateArticle)(t,n,a))}}})(b)},793:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(794),l=a(o),u=function(e){var t=e.items,n=e.onDeleteComment,a=e.onDeleteReply,r=t.sort(function(e,t){return e.createdAt>t.createdAt?-1:e.createdAt<t.createdAt?1:0}),o=r.map(function(e){return i["default"].createElement(l["default"],{key:e._id,item:e,onDeleteComment:n,onDeleteReply:a})});return i["default"].createElement("div",null,o)};t["default"]=u},794:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(299),i=a(r),o=n(639),l=a(o),u=n(795),s=a(u),c=n(606),d=n(543),f=a(d),_=function(e){var t=e.item,n=e.onDeleteReply,a=e.commentId,r=e.commentIsDeleted,o="";return o=t.isDeleted?i["default"].createElement(c.ListInline,null,i["default"].createElement(c.ListInlineItem,null,i["default"].createElement("div",{className:s["default"].Reply__deleteInfo},"reply will be deleted on save")),i["default"].createElement(c.ListInlineItem,null,i["default"].createElement(f["default"],{small:!0,disabled:r,onClick:function(){return n(t._id,a)}},"Put back"))):i["default"].createElement(f["default"],{small:!0,color:"red",disabled:r,onClick:function(){return n(t._id,a)}},"Delete"),i["default"].createElement("div",{className:s["default"].Reply+" "+(t.isDeleted?s["default"].Reply_deleted:"")},i["default"].createElement(c.Block,{n:.5},i["default"].createElement(c.Flex,{justifyContent:"space-between"},i["default"].createElement("div",{className:s["default"].Reply__info},"Posted by ",t.lastModifiedBy," on ",i["default"].createElement(l["default"],{value:t.createdAt,format:"MMMM Do YYYY (h:mm a)"})),o)),i["default"].createElement("div",{className:s["default"].Reply__body,dangerouslySetInnerHTML:{__html:t.content}}))},m=function(e){var t=e.item,n=e.onDeleteComment,a=e.onDeleteReply,r=t.replies.sort(function(e,t){return e.createdAt>t.createdAt?-1:e.createdAt<t.createdAt?1:0}),o=r.map(function(e){return i["default"].createElement(_,{key:e._id,commentId:t._id,item:e,onDeleteReply:a,commentIsDeleted:t.isDeleted})}),u="";return u=t.isDeleted?i["default"].createElement(c.ListInline,null,i["default"].createElement(c.ListInlineItem,null,i["default"].createElement("div",{className:s["default"].Comment__deleteInfo},"comment will be deleted on save")),i["default"].createElement(c.ListInlineItem,null,i["default"].createElement(f["default"],{onClick:function(){return n(t._id)}},"Put back"))):i["default"].createElement(f["default"],{color:"red",onClick:function(){return n(t._id)}},"Delete"),i["default"].createElement("div",{className:s["default"].Comment+" "+(t.isDeleted?s["default"].Comment_deleted:"")},i["default"].createElement("div",{className:s["default"].Comment__comment},i["default"].createElement(c.Block,{n:.5},i["default"].createElement(c.Flex,{justifyContent:"space-between"},i["default"].createElement("div",{className:s["default"].Comment__info},"Posted by ",t.lastModifiedBy," on ",i["default"].createElement(l["default"],{value:t.createdAt,format:"MMMM Do YYYY (h:mm a)"})),u)),i["default"].createElement(c.Block,{n:1},i["default"].createElement("div",{className:s["default"].Comment__body,dangerouslySetInnerHTML:{__html:t.content}})),i["default"].createElement("div",{className:s["default"].Comment__replies},o)))};t["default"]=m},795:function(e,t){e.exports={Comment:"Comment__Comment___CLS2w",Comment__deleteInfo:"Comment__Comment__deleteInfo___1xQWE",Comment__info:"Comment__Comment__info___1rool",Comment__comment:"Comment__Comment__comment___PQT67",Comment__body:"Comment__Comment__body___1S5F6",Comment__replies:"Comment__Comment__replies___PXLXR",Comment_deleted:"Comment__Comment_deleted___2nkYX",Reply:"Comment__Reply___1J5JO",Reply__deleteInfo:"Comment__Reply__deleteInfo___2OAbX",Reply__info:"Comment__Reply__info___30jI2",Reply__body:"Comment__Reply__body___1qhpn",Reply_deleted:"Comment__Reply_deleted___1kOVQ"}},796:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(299),s=a(u),c=n(459),d=n(639),f=a(d),_=n(797),m=n(623),p=a(m),E=n(536),h=n(606),v=n(756),b=a(v),y=n(758),g=a(y),I=n(745),T=a(I),S=n(747),C=a(S),O=n(749),w=a(O),R=function(e){function t(e){r(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.update=n.update.bind(n),n}return o(t,e),l(t,[{key:"update",value:function(){var e=this.props.updateIndex;e()}},{key:"componentWillMount",value:function(){var e=this.props.fetchIndex;e()}},{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.isUpdating,a=e.lastUpdatedOn,r=e.lastUpdatedBy;return t?s["default"].createElement(p["default"],null):s["default"].createElement(b["default"],null,s["default"].createElement(g["default"],null,s["default"].createElement(T["default"],{heading:!0},s["default"].createElement(C["default"],{width:"stretch"},s["default"].createElement(w["default"],{heading:!0,title:!0},"Search Index")),s["default"].createElement(C["default"],{heading:!0,last:!0,width:"15"},s["default"].createElement(h.Flex,{justifyContent:"flex-end"},s["default"].createElement(E.LinkButton,{disabled:n,onClick:this.update},"Update index")))),s["default"].createElement(T["default"],null,s["default"].createElement(C["default"],{width:"stretch"},s["default"].createElement(w["default"],{title:!0},"Last updated on ",s["default"].createElement(f["default"],{value:a,format:"h:mm A on MMM Do"})," by ",r)))))}}]),t}(s["default"].Component);t["default"]=(0,c.connect)(function(e){return{isFetching:e.searchIndex.isFetching,isUpdating:e.searchIndex.isUpdating,lastUpdatedOn:e.searchIndex.lastUpdatedOn,lastUpdatedBy:e.searchIndex.lastUpdatedBy}},function(e){return{fetchIndex:function(){e((0,_.fetchSearchIndex)())},updateIndex:function(){e((0,_.updateSearchIndex)())}}})(R)},797:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSearchIndex=t.fetchSearchIndex=t.CONFIRM_UPDATE_INDEX=t.REQUEST_UPDATE_INDEX=t.RECEIVE_INDEX=t.REQUEST_INDEX=void 0,n(627);var a=n(628),r=n(626),i=t.REQUEST_INDEX="REQUEST_INDEX",o=t.RECEIVE_INDEX="RECEIVE_INDEX",l=t.REQUEST_UPDATE_INDEX="REQUEST_UPDATE_INDEX",u=t.CONFIRM_UPDATE_INDEX="CONFIRM_UPDATE_INDEX",s=function(){return{type:i}},c=function(e,t){return{type:o,lastUpdatedOn:e,lastUpdatedBy:t}},d=(t.fetchSearchIndex=function(){return function(e,t){e(s()),fetch("https://vdziubak.com/vaccineAnswersServer/searchIndex",{mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")}}).then(function(t){if(401===t.status)throw e((0,r.logOut)()),e((0,a.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return t}).then(function(e){return e.json()}).then(function(t){t.success?e(c(t.data.searchIndex.lastUpdatedOn,t.data.searchIndex.lastUpdatedBy)):(console.error(t.data),e((0,a.flashMessage)("Oops, something went wrong :()","error")))})}},function(){return{type:l}}),f=function(e,t){return{type:u,lastUpdatedOn:e,lastUpdatedBy:t}};t.updateSearchIndex=function(){return function(e,t){e(d()),fetch("https://vdziubak.com/vaccineAnswersServer/searchIndex",{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("antiVax_auth_token")}}).then(function(t){if(401===t.status)throw e((0,r.logOut)()),e((0,a.flashMessage)("Authorization failed. Please, log in again","error")),new Error("Unauthorized action");return t}).then(function(e){return e.json()}).then(function(t){t.success?(e(f(t.data.searchIndex.lastUpdatedOn,t.data.searchIndex.lastUpdatedBy)),e((0,a.flashMessage)("Search index updated","log"))):(console.error(t.data),e((0,a.flashMessage)("Oops, something went wrong :()","error")))})}}},798:function(e,t){},799:function(e,t,n){"use strict";
function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(466),i=n(800),o=(a(i),n(801)),l=a(o),u=n(802),s=a(u),c=[l["default"]],d=function(e){return(0,r.createStore)(s["default"],e,r.applyMiddleware.apply(void 0,c))};t["default"]=d},802:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(466),i=n(803),o=a(i),l=n(805),u=a(l),s=n(806),c=a(s),d=n(807),f=a(d),_=n(808),m=a(_),p=n(809),E=a(p),h=n(810),v=a(h),b=(0,r.combineReducers)({auth:o["default"],flash:u["default"],questions:c["default"],articles:f["default"],users:m["default"],sections:E["default"],searchIndex:v["default"]});t["default"]=b},803:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(626),o=n(804),l=a(o),u=function(){var e=arguments.length<=0||void 0===arguments[0]?l["default"].auth:arguments[0],t=arguments[1];switch(t.type){case i.REQUEST_AUTH:return r({},l["default"].auth,{isFetching:!0});case i.LOGIN:return{isFetching:!1,user:t.user};case i.LOGOUT:return{isFetching:!1,user:null};default:return e}};t["default"]=u},804:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={auth:{isFetching:!1,user:null},flash:{message:null,type:null,timeoutId:null},questions:{isFetching:!0,items:[]},question:{isUpdating:!1,data:{}},articles:{isFetching:!0,items:[],newArticle:{isUpdating:!1,data:{},errors:{}}},article:{isUpdating:!1,data:{},errors:{}},sections:{isFetching:!0,items:[],newSection:{isUpdating:!1,data:{},errors:{}}},section:{isUpdating:!1,data:{},errors:{}},users:{isFetching:!0,items:[],newUser:{isUpdating:!1,data:{},errors:{}}},user:{isUpdating:!1,data:{},errors:{}},searchIndex:{isFetching:!0,isUpdating:!1,lastUpdatedOn:null,lastUpdatedBy:null}}},805:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(628),o=n(804),l=a(o),u=function(){var e=arguments.length<=0||void 0===arguments[0]?r({},l["default"].flash):arguments[0],t=arguments[1];switch(t.type){case i.SET_MESSAGE:return clearTimeout(e.timeoutId),r({},{message:t.message,type:t.messageType,timeoutId:t.timeoutId});case i.UNSET_MESSAGE:return clearTimeout(e.timeoutId),r({},l["default"].flash);default:return e}};t["default"]=u},806:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(637),o=n(804),l=a(o),u=function(){var e=arguments.length<=0||void 0===arguments[0]?l["default"].question:arguments[0],t=arguments[1];switch(t.type){case i.RECEIVE_QUESTIONS:return r({},e,{data:t.item});case i.REQUEST_QUESTION_UPDATE:return e.data._id===t.id?r({},e,{isUpdating:!0}):e;case i.RECEIVE_QUESTION_UPDATE:return e.data._id===t.id?r({},e,{data:t.updatedQuestion,isUpdating:!1}):e;case i.REQUEST_DELETE_QUESTION:return e.data._id===t.id?r({},e,{isUpdating:!0}):e;case i.REJECT_DELETE_QUESTION:return e.data._id===t.id?r({},e,{isUpdating:!1}):e;default:return e}},s=function(){var e=arguments.length<=0||void 0===arguments[0]?l["default"].questions:arguments[0],t=arguments[1];switch(t.type){case i.REQUEST_QUESTIONS:return r({},e,{isFetching:!0});case i.RECEIVE_QUESTIONS:return{isFetching:!1,items:t.items.map(function(e){return u(void 0,{type:t.type,item:e})})};case i.REQUEST_QUESTION_UPDATE:case i.RECEIVE_QUESTION_UPDATE:case i.REQUEST_DELETE_QUESTION:case i.REJECT_DELETE_QUESTION:return r({},e,{items:e.items.map(function(e){return u(e,t)})});case i.CONFIRM_DELETE_QUESTION:return r({},e,{items:e.items.filter(function(e){return e.data._id!==t.id})});default:return e}};t["default"]=s},807:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(772),l=n(804),u=a(l),s=function(){var e=arguments.length<=0||void 0===arguments[0]?u["default"].articles:arguments[0],t=arguments[1];switch(t.type){case o.REQUEST_ARTICLES:return i({},e,{isFetching:!0});case o.RECEIVE_ARTICLES:return i({},e,{isFetching:!1,items:t.items.map(function(e){return c(void 0,{type:t.type,item:e})})});case o.REQUEST_UPDATE_ARTICLE:case o.CONFIRM_UPDATE_ARTICLE:case o.REJECT_UPDATE_ARTICLE:case o.REQUEST_DELETE_ARTICLE:case o.REJECT_DELETE_ARTICLE:return i({},e,{items:e.items.map(function(e){return c(e,t)})});case o.REQUEST_CREATE_ARTICLE:case o.REJECT_CREATE_ARTICLE:return i({},e,{newArticle:d(e.newArticle,t)});case o.CONFIRM_CREATE_ARTICLE:return i({},e,{newArticle:d(e.newArticle,t),items:[c(null,t)].concat(r(e.items))});case o.CONFIRM_DELETE_ARTICLE:return i({},e,{items:e.items.filter(function(e){return e.data._id!==t.id})});default:return e}},c=function(){var e=arguments.length<=0||void 0===arguments[0]?u["default"].article:arguments[0],t=arguments[1];switch(t.type){case o.RECEIVE_ARTICLES:return i({},e,{data:t.item});case o.CONFIRM_CREATE_ARTICLE:return i({},e,{data:t.item});case o.REQUEST_UPDATE_ARTICLE:return e.data._id===t.id?i({},e,{isUpdating:!0}):e;case o.CONFIRM_UPDATE_ARTICLE:return e.data._id===t.id?i({},e,{data:t.item,isUpdating:!1,errors:{}}):e;case o.REJECT_UPDATE_ARTICLE:return e.data._id===t.id?i({},e,{isUpdating:!1,errors:t.errors}):e;case o.REQUEST_DELETE_ARTICLE:return e.data._id===t.id?i({},e,{isUpdating:!0}):e;case o.REJECT_DELETE_ARTICLE:return e.data._id===t.id?i({},e,{isUpdating:!1}):e;default:return e}},d=function(e,t){switch(t.type){case o.REQUEST_CREATE_ARTICLE:return i({},e,{isUpdating:!0});case o.REJECT_CREATE_ARTICLE:return i({},e,{isUpdating:!1,errors:t.errors});case o.CONFIRM_CREATE_ARTICLE:return i({},u["default"].articles.newArticle);default:return e}};t["default"]=s},808:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(763),l=n(804),u=a(l),s=function(){var e=arguments.length<=0||void 0===arguments[0]?u["default"].user:arguments[0],t=arguments[1];switch(t.type){case o.RECEIVE_USERS:return i({},e,{data:t.item});case o.CONFIRM_CREATE_USER:return i({},e,{data:t.item});case o.REQUEST_UPDATE_USER:return e.data._id===t.id?i({},e,{isUpdating:!0}):e;case o.CONFIRM_UPDATE_USER:return e.data._id===t.id?i({},e,{data:t.updatedItem,isUpdating:!1,errors:{}}):e;case o.REJECT_UPDATE_USER:return e.data._id===t.id?i({},e,{isUpdating:!1,errors:t.errors}):e;case o.REQUEST_DELETE_USER:return e.data._id===t.id?i({},e,{isUpdating:!0}):e;case o.REJECT_DELETE_USER:return e.data._id===t.id?i({},e,{isUpdating:!1}):e;default:return e}},c=function(e,t){switch(t.type){case o.REQUEST_CREATE_USER:return i({},e,{isUpdating:!0});case o.REJECT_CREATE_USER:return i({},e,{isUpdating:!1,errors:t.errors});default:return e}},d=function(){var e=arguments.length<=0||void 0===arguments[0]?u["default"].users:arguments[0],t=arguments[1];switch(t.type){case o.REQUEST_USERS:return i({},e,{isFetching:!0});case o.RECEIVE_USERS:return i({},e,{isFetching:!1,items:t.items.map(function(e){return s(void 0,{type:t.type,item:e})})});case o.REQUEST_UPDATE_USER:case o.CONFIRM_UPDATE_USER:case o.REJECT_UPDATE_USER:case o.REQUEST_DELETE_USER:case o.REJECT_DELETE_USER:return i({},e,{items:e.items.map(function(e){return s(e,t)})});case o.REQUEST_CREATE_USER:case o.REJECT_CREATE_USER:return i({},e,{newUser:c(e.newUser,t)});case o.CONFIRM_CREATE_USER:return i({},e,{newUser:u["default"].users.newUser,items:[s(null,t)].concat(r(e.items))});case o.CONFIRM_DELETE_USER:return i({},e,{items:e.items.filter(function(e){return e.data._id!==t.id})});default:return e}};t["default"]=d},809:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(771),l=n(804),u=a(l),s=function(){var e=arguments.length<=0||void 0===arguments[0]?u["default"].sections:arguments[0],t=arguments[1];switch(t.type){case o.REQUEST_SECTIONS:return i({},e,{isFetching:!0});case o.RECEIVE_SECTIONS:return i({},e,{isFetching:!1,items:t.items.map(function(e){return c(void 0,{type:t.type,item:e})})});case o.REQUEST_UPDATE_SECTION:case o.CONFIRM_UPDATE_SECTION:case o.REJECT_UPDATE_SECTION:case o.REQUEST_DELETE_SECTION:case o.REJECT_DELETE_SECTION:return i({},e,{items:e.items.map(function(e){return c(e,t)})});case o.REQUEST_CREATE_SECTION:case o.REJECT_CREATE_SECTION:return i({},e,{newSection:d(e.newSection,t)});case o.CONFIRM_CREATE_SECTION:return i({},e,{newSection:d(e.newSection,t),items:[].concat(r(e.items),[c(void 0,t)])});case o.CONFIRM_DELETE_SECTION:return i({},e,{items:e.items.filter(function(e){return e.data._id!==t.id})});default:return e}},c=function(){var e=arguments.length<=0||void 0===arguments[0]?u["default"].section:arguments[0],t=arguments[1];switch(t.type){case o.RECEIVE_SECTIONS:return i({},e,{data:t.item});case o.CONFIRM_CREATE_SECTION:return i({},e,{data:t.item});case o.REQUEST_UPDATE_SECTION:case o.REQUEST_DELETE_SECTION:return e.data._id===t.id?i({},e,{isUpdating:!0}):e;case o.CONFIRM_UPDATE_SECTION:return e.data._id===t.id?i({},e,{data:t.item,isUpdating:!1,errors:{}}):e;case o.REJECT_UPDATE_SECTION:return e.data._id===t.id?i({},e,{isUpdating:!1,errors:t.errors}):e;case o.REJECT_DELETE_SECTION:return e.data._id===t.id?i({},e,{isUpdating:!1}):e;default:return e}},d=function(e,t){switch(t.type){case o.REQUEST_CREATE_SECTION:return i({},e,{isUpdating:!0});case o.REJECT_CREATE_SECTION:return i({},e,{isUpdating:!1,errors:t.errors});case o.CONFIRM_CREATE_SECTION:return i({},u["default"].sections.newSection);default:return e}};t["default"]=s},810:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=n(797),o=n(804),l=a(o),u=function(){var e=arguments.length<=0||void 0===arguments[0]?l["default"].searchIndex:arguments[0],t=arguments[1];switch(t.type){case i.REQUEST_INDEX:return r({},e,{isFetching:!0});case i.RECEIVE_INDEX:return r({},e,{isFetching:!1,lastUpdatedOn:t.lastUpdatedOn,lastUpdatedBy:t.lastUpdatedBy});case i.REQUEST_UPDATE_INDEX:return r({},e,{isUpdating:!0});case i.CONFIRM_UPDATE_INDEX:return r({},e,{isUpdating:!1,lastUpdatedOn:t.lastUpdatedOn,lastUpdatedBy:t.lastUpdatedBy});default:return e}};t["default"]=u}});